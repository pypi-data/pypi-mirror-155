"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[5088],{45088:(e,n,t)=>{t.r(n),t.d(n,{CommandIDs:()=>_,createEditMenu:()=>g,createFileMenu:()=>h,createHelpMenu:()=>y,createKernelMenu:()=>C,createRunMenu:()=>w,createTabsMenu:()=>M,createViewMenu:()=>v,default:()=>S});var a=t(9622),o=t(92238),l=t(50354),r=t(33653),i=t(24872),d=t(66711),s=t(96936),u=t(43306),c=t(81734),m=t(74547),p=t(59985);const b="@jupyterlab/mainmenu-extension:plugin";var _;function g(e,n,t){const o=e.commands;o.addCommand(_.undo,(0,a.createSemanticCommand)(e,n.undoers.undo,{label:t.__("Undo")},t)),o.addCommand(_.redo,(0,a.createSemanticCommand)(e,n.undoers.redo,{label:t.__("Redo")},t)),o.addCommand(_.clearCurrent,(0,a.createSemanticCommand)(e,n.clearers.clearCurrent,{label:t.__("Clear")},t)),o.addCommand(_.clearAll,(0,a.createSemanticCommand)(e,n.clearers.clearAll,{label:t.__("Clear All")},t)),o.addCommand(_.goToLine,(0,a.createSemanticCommand)(e,n.goToLiners,{label:t.__("Go to Line…")},t))}function h(e,n,t,r){const d=e.commands;d.addCommand(_.closeAndCleanup,Object.assign(Object.assign({},(0,a.createSemanticCommand)(e,n.closeAndCleaners,{execute:"application:close",label:r.__("Close and Shut Down"),isEnabled:!0},r)),{isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable})),d.addCommand(_.createConsole,(0,a.createSemanticCommand)(e,n.consoleCreators,{label:r.__("New Console for Activity")},r)),d.addCommand(_.shutdown,{label:r.__("Shut Down"),caption:r.__("Shut down JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,o.showDialog)({title:r.__("Shutdown confirmation"),body:r.__("Please confirm you want to shut down JupyterLab."),buttons:[o.Dialog.cancelButton(),o.Dialog.warnButton({label:r.__("Shut Down")})]}).then((async n=>{if(n.button.accept){const n=i.ServerConnection.makeSettings(),t=l.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(e){console.log(`Failed to shutdown sessions and terminals: ${e}`)}return i.ServerConnection.makeRequest(t,{method:"POST"},n).then((e=>{if(!e.ok)throw new i.ServerConnection.ResponseError(e);{const e=document.createElement("div"),n=document.createElement("p");n.textContent=r.__("You have shut down the Jupyter server. You can now close this tab.");const t=document.createElement("p");t.textContent=r.__("To use JupyterLab again, you will need to relaunch it."),e.appendChild(n),e.appendChild(t),(0,o.showDialog)({title:r.__("Server stopped"),body:new p.Widget({node:e}),buttons:[]}),window.close()}})).catch((e=>{throw new i.ServerConnection.NetworkError(e)}))}}))}),d.addCommand(_.logout,{label:r.__("Log Out"),caption:r.__("Log out of JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:!0})}})}function C(e,n,t){const l=e.commands;l.addCommand(_.interruptKernel,Object.assign(Object.assign({},(0,a.createSemanticCommand)(e,n.kernelUsers.interruptKernel,{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},t)),{icon:e=>e.toolbar?u.stopIcon:void 0})),l.addCommand(_.reconnectToKernel,(0,a.createSemanticCommand)(e,n.kernelUsers.reconnectToKernel,{label:t.__("Reconnect to Kernel")},t)),l.addCommand(_.restartKernel,Object.assign(Object.assign({},(0,a.createSemanticCommand)(e,n.kernelUsers.restartKernel,{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},t)),{icon:e=>e.toolbar?u.refreshIcon:void 0})),l.addCommand(_.restartKernelAndClear,(0,a.createSemanticCommand)(e,[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],{label:t.__("Restart Kernel and Clear…")},t)),l.addCommand(_.changeKernel,(0,a.createSemanticCommand)(e,n.kernelUsers.changeKernel,{label:t.__("Change Kernel…")},t)),l.addCommand(_.shutdownKernel,(0,a.createSemanticCommand)(e,n.kernelUsers.shutdownKernel,{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},t)),l.addCommand(_.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>void 0!==e.serviceManager.sessions.running().next(),execute:()=>(0,o.showDialog)({title:t.__("Shut Down All?"),body:t.__("Shut down all kernels?"),buttons:[o.Dialog.cancelButton({label:t.__("Dismiss")}),o.Dialog.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()}))})}function v(e,n,t){const o=e.commands;o.addCommand(_.lineNumbering,(0,a.createSemanticCommand)(e,n.editorViewers.toggleLineNumbers,{label:t.__("Show Line Numbers")},t)),o.addCommand(_.matchBrackets,(0,a.createSemanticCommand)(e,n.editorViewers.toggleMatchBrackets,{label:t.__("Match Brackets")},t)),o.addCommand(_.wordWrap,(0,a.createSemanticCommand)(e,n.editorViewers.toggleWordWrap,{label:t.__("Wrap Words")},t))}function w(e,n,t){const o=e.commands;o.addCommand(_.run,Object.assign(Object.assign({},(0,a.createSemanticCommand)(e,n.codeRunners.run,{label:t.__("Run Selected"),caption:t.__("Run Selected")},t)),{icon:e=>e.toolbar?u.runIcon:void 0})),o.addCommand(_.runAll,(0,a.createSemanticCommand)(e,n.codeRunners.runAll,{label:t.__("Run All"),caption:t.__("Run All")},t)),o.addCommand(_.restartAndRunAll,Object.assign(Object.assign({},(0,a.createSemanticCommand)(e,[n.codeRunners.restart,n.codeRunners.runAll],{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},t)),{icon:e=>e.toolbar?u.fastForwardIcon:void 0}))}function M(e,n,t,a){const o=e.commands,l=[];let r;o.addCommand(_.activateById,{label:n=>{if(void 0===n.id)return a.__("Activate a widget by its `id`.");const t=n.id||"",o=(0,c.find)(e.shell.widgets("main"),(e=>e.id===t));return o&&o.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n.id||"")});let i="";o.addCommand(_.activatePreviouslyUsedTab,{label:a.__("Activate Previously Used Tab"),isEnabled:()=>!!i,execute:()=>o.execute(_.activateById,{id:i})}),t&&e.restored.then((()=>{const a=()=>{r&&!r.isDisposed&&r.dispose(),l.length=0;let t=!1;(0,c.each)(e.shell.widgets("main"),(e=>{e.id===i&&(t=!0),l.push({command:_.activateById,args:{id:e.id}})})),r=n.addGroup(l,1),i=t?i:""};a(),t.layoutModified.connect((()=>{a()})),t.currentChanged.connect(((e,n)=>{const t=n.oldValue;t&&(i=t.id)}))}))}function y(e,n,t){e.commands.addCommand(_.getKernel,(0,a.createSemanticCommand)(e,n.getKernel,{label:t.__("Get Kernel"),isVisible:!1},t))}!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.getKernel="helpmenu:get-kernel",e.openFirst="mainmenu:open-first"}(_||(_={}));const S={id:b,requires:[a.IRouter,s.ITranslator],optional:[o.ICommandPalette,a.ILabShell,d.ISettingRegistry],provides:r.IMainMenu,activate:async(e,n,t,a,o,i)=>{const{commands:d}=e,s=t.load("jupyterlab"),u=new r.MainMenu(d);u.id="jp-MainMenu",u.addClass("jp-scrollbar-tiny"),i&&await f.loadSettingsMenu(i,(e=>{u.addMenu(e,{rank:e.rank})}),(e=>r.MainMenu.generateMenu(d,e,s)),t);const c=l.PageConfig.getOption("quitButton").toLowerCase();u.fileMenu.quitEntry="true"===c,g(e,u.editMenu,s),h(e,u.fileMenu,n,s),C(e,u.kernelMenu,s),w(e,u.runMenu,s),v(e,u.viewMenu,s),y(e,u.helpMenu,s),o&&M(e,u.tabsMenu,o,s);const m=e=>{u.activeMenu=e,u.openActiveMenu()};return d.addCommand(_.openEdit,{label:s.__("Open Edit Menu"),execute:()=>m(u.editMenu)}),d.addCommand(_.openFile,{label:s.__("Open File Menu"),execute:()=>m(u.fileMenu)}),d.addCommand(_.openKernel,{label:s.__("Open Kernel Menu"),execute:()=>m(u.kernelMenu)}),d.addCommand(_.openRun,{label:s.__("Open Run Menu"),execute:()=>m(u.runMenu)}),d.addCommand(_.openView,{label:s.__("Open View Menu"),execute:()=>m(u.viewMenu)}),d.addCommand(_.openSettings,{label:s.__("Open Settings Menu"),execute:()=>m(u.settingsMenu)}),d.addCommand(_.openTabs,{label:s.__("Open Tabs Menu"),execute:()=>m(u.tabsMenu)}),d.addCommand(_.openHelp,{label:s.__("Open Help Menu"),execute:()=>m(u.helpMenu)}),d.addCommand(_.openFirst,{label:s.__("Open First Menu"),execute:()=>{u.activeIndex=0,u.openActiveMenu()}}),a&&(a.addItem({command:_.shutdown,category:s.__("Main Area")}),a.addItem({command:_.logout,category:s.__("Main Area")}),a.addItem({command:_.shutdownAllKernels,category:s.__("Kernel Operations")}),a.addItem({command:_.activatePreviouslyUsedTab,category:s.__("Main Area")})),e.shell.add(u,"menu",{rank:100}),u}};var f;!function(e){async function n(e){(await(0,o.showDialog)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[o.Dialog.cancelButton(),o.Dialog.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsMenu=async function(e,t,a,l){var r;const i=l.load("jupyterlab");let s=null,u={};function c(n){var t,a;u={};const o=Object.keys(e.plugins).map((n=>{var t,a;const o=null!==(a=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[];return u[n]=o,o})).concat([null!==(a=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==a?a:[]]).reduceRight(((e,n)=>d.SettingRegistry.reconcileMenus(e,n,!0)),n.properties.menus.default);n.properties.menus.default=d.SettingRegistry.reconcileMenus(o,n.properties.menus.default,!0).sort(((e,n)=>{var t,a;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(a=n.rank)&&void 0!==a?a:1/0)}))}e.transform(b,{compose:e=>{var n,t,a,o;s||(s=m.JSONExt.deepCopy(e.schema),c(s));const l=null!==(a=null===(t=null===(n=s.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==a?a:[],r=Object.assign(Object.assign({},e.data.user),{menus:null!==(o=e.data.user.menus)&&void 0!==o?o:[]}),i=Object.assign(Object.assign({},e.data.composite),{menus:d.SettingRegistry.reconcileMenus(l,r.menus)});return e.data={composite:i,user:r},e},fetch:e=>(s||(s=m.JSONExt.deepCopy(e.schema),c(s)),{data:e.data,id:e.id,raw:e.raw,schema:s,version:e.version})});const p=await e.load(b),_=null!==(r=m.JSONExt.deepCopy(p.composite.menus))&&void 0!==r?r:[],g=new Array;o.MenuFactory.createMenus(_.filter((e=>!e.disabled)).map((e=>{var n;return Object.assign(Object.assign({},e),{items:d.SettingRegistry.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])})})),a).forEach((e=>{g.push(e),t(e)})),p.changed.connect((()=>{var e;const t=null!==(e=p.composite.menus)&&void 0!==e?e:[];m.JSONExt.deepEqual(_,t)||n(i)})),e.pluginChanged.connect((async(l,r)=>{var s,c,p;if(r!==b){const l=null!==(s=u[r])&&void 0!==s?s:[],b=null!==(p=null===(c=e.plugins[r].schema["jupyter.lab.menus"])||void 0===c?void 0:c.main)&&void 0!==p?p:[];if(!m.JSONExt.deepEqual(l,b))if(u[r])await n(i);else{u[r]=m.JSONExt.deepCopy(b);const e=d.SettingRegistry.reconcileMenus(b,_,!1,!1).filter((e=>!e.disabled)).map((e=>{var n;return Object.assign(Object.assign({},e),{items:d.SettingRegistry.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])})}));o.MenuFactory.updateMenus(g,e,a).forEach((e=>{t(e)}))}}}))}}(f||(f={}))}}]);
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_dashboardWidgetQuerySelectorModal_tsx-app_stores_organizationStore_tsx--a7701b"],{"./app/actions/organizationActions.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s=(0,r("../node_modules/reflux/src/index.js").createActions)(["reset","fetchOrgError","update"])},"./app/components/arithmeticInput/parser.tsx":(e,t,r)=>{"use strict";r.d(t,{W9:()=>p});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.error.cause.js"),r("./app/locale.tsx")),a=r("./app/components/arithmeticInput/grammar.pegjs"),n=r.n(a);const o=(0,i.t)("Maximum operators exceeded");class d{constructor(e){let{operator:t,lhs:r=null,rhs:i}=e;(0,s.Z)(this,"operator",void 0),(0,s.Z)(this,"lhs",void 0),(0,s.Z)(this,"rhs",void 0),this.operator=t,this.lhs=r,this.rhs=i}}class c{constructor(e){let{term:t,location:r}=e;(0,s.Z)(this,"term",void 0),(0,s.Z)(this,"location",void 0),this.term=t,this.location=r}}class l{constructor(){(0,s.Z)(this,"numOperations",void 0),(0,s.Z)(this,"errors",void 0),(0,s.Z)(this,"fields",void 0),(0,s.Z)(this,"functions",void 0),(0,s.Z)(this,"tokenTerm",((e,t)=>t.length>0?(t[0].lhs=e,u(t)):e)),(0,s.Z)(this,"tokenOperation",((e,t)=>(this.numOperations+=1,this.numOperations>10&&!this.errors.includes(o)&&this.errors.push(o),"divide"===e&&"0"===t&&this.errors.push((0,i.t)("Division by 0 is not allowed")),new d({operator:e,rhs:t})))),(0,s.Z)(this,"tokenFactor",((e,t)=>(t[0].lhs=e,u(t)))),(0,s.Z)(this,"tokenField",((e,t)=>{const r=new c({term:e,location:t});return this.fields.push(r),e})),(0,s.Z)(this,"tokenFunction",((e,t)=>{const r=new c({term:e,location:t});return this.functions.push(r),e})),this.numOperations=0,this.errors=[],this.fields=[],this.functions=[]}}function u(e){let t=e.shift();for(;e.length>0;){const r=e.shift();r&&t&&null===r.lhs&&(r.lhs=t),t=r}if(void 0===t)throw new Error("Unable to parse arithmetic");return t}function p(e){const t=new l;try{return{result:n().parse(e,{tc:t}),error:t.errors[0],tc:t}}catch(e){return{result:null,error:e.message,tc:t}}}},"./app/components/modals/dashboardWidgetQuerySelectorModal.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A,modalCss:()=>k});var s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=r("../node_modules/react/index.js"),a=r("../node_modules/react-router/es/index.js"),n=r("./app/components/button.tsx"),o=r("./app/components/forms/controls/input.tsx"),d=r("./app/icons/index.tsx"),c=r("./app/locale.tsx"),l=r("./app/styles/space.tsx"),u=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=r("./app/utils/withApi.tsx"),h=r("./app/utils/withPageFilters.tsx"),g=r("./app/views/dashboardsV2/utils.tsx"),_=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends i.Component{renderQueries(){const{organization:e,widget:t,selection:r}=this.props;return t.queries.map(((s,n)=>{const o=(0,g.z1)({...t,queries:[s]},r,e);return(0,_.tZ)(i.Fragment,{children:(0,_.BX)(v,{children:[(0,_.BX)(b,{children:[(0,_.tZ)(y,{htmlFor:"smart-search-input","aria-label":(0,c.t)("Search events"),children:(0,_.tZ)(d.jV,{})}),(0,_.tZ)(w,{value:s.conditions,disabled:!0})]}),(0,_.tZ)(a.Link,{to:o,children:(0,_.tZ)(f,{priority:"primary",icon:(0,_.tZ)(d.g6,{size:"xs",direction:"right"}),onClick:()=>{(0,u.Z)("dashboards_views.query_selector.selected",{organization:e,widget_type:t.displayType})},"aria-label":(0,c.t)("Open in Discover")})})]})},n)}))}render(){const{Body:e,Header:t,widget:r}=this.props;return(0,_.BX)(i.Fragment,{children:[(0,_.tZ)(t,{closeButton:!0,children:(0,_.tZ)("h4",{children:r.title})}),(0,_.BX)(e,{children:[(0,_.tZ)("p",{children:(0,c.t)("Multiple queries were used to create this widget visualization. Which query would you like to view in Discover?")}),this.renderQueries()]})]})}}m.displayName="DashboardWidgetQuerySelectorModal";const w=(0,s.Z)(o.Z,{target:"e10oo76w4"})({name:"97snz3",styles:"text-overflow:ellipsis;padding:0px;box-shadow:none;height:auto;&:disabled{border:none;cursor:default;}"}),v=(0,s.Z)("div",{target:"e10oo76w3"})("display:flex;margin-bottom:",(0,l.Z)(1),";"),f=(0,s.Z)(n.ZP,{target:"e10oo76w2"})("margin-left:",(0,l.Z)(1),";"),b=(0,s.Z)("div",{target:"e10oo76w1"})("border:1px solid ",(e=>e.theme.border),";box-shadow:inset ",(e=>e.theme.dropShadowLight),";background:",(e=>e.theme.backgroundSecondary),";padding:7px ",(0,l.Z)(1),";position:relative;display:grid;grid-template-columns:max-content 1fr max-content;gap:",(0,l.Z)(1),";align-items:start;flex-grow:1;border-radius:",(e=>e.theme.borderRadius),";"),y=(0,s.Z)("label",{target:"e10oo76w0"})("display:flex;padding:",(0,l.Z)(.5)," 0;margin:0;color:",(e=>e.theme.gray300),";"),k={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},A=(0,p.Z)((0,h.Z)(m))},"./app/stores/organizationStore.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>d}),r("../node_modules/core-js/modules/es.string.replace.js");var s=r("../node_modules/reflux/src/index.js"),i=r("./app/actions/organizationActions.tsx"),a=r("./app/constants/index.tsx"),n=r("./app/utils/makeSafeRefluxStore.ts");const o={unsubscribeListeners:[],init(){this.reset(),this.unsubscribeListeners.push(this.listenTo(i.Z.update,this.onUpdate)),this.unsubscribeListeners.push(this.listenTo(i.Z.reset,this.reset)),this.unsubscribeListeners.push(this.listenTo(i.Z.fetchOrgError,this.onFetchOrgError))},reset(){this.loading=!0,this.error=null,this.errorType=null,this.organization=null,this.dirty=!1,this.trigger(this.get())},onUpdate(e){let{replace:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading=!1,this.error=null,this.errorType=null,this.organization=t?e:{...this.organization,...e},this.dirty=!1,this.trigger(this.get())},onFetchOrgError(e){switch(this.organization=null,this.errorType=null,null==e?void 0:e.status){case 401:this.errorType=a.Yc.ORG_NO_ACCESS;break;case 404:this.errorType=a.Yc.ORG_NOT_FOUND}this.loading=!1,this.error=e,this.dirty=!1,this.trigger(this.get())},get(){return{organization:this.organization,error:this.error,loading:this.loading,errorType:this.errorType,dirty:this.dirty}},getState(){return this.get()}},d=(0,s.createStore)((0,n.Y)(o))},"./app/utils/analytics/coreuiAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{J:()=>s});const s={"page_filters.pin_click":"Page Filters: Pin Button Clicked"}},"./app/utils/analytics/dashboardsAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});const s={"dashboards_views.query_selector.opened":"Dashboards2: Query Selector opened for Widget","dashboards_views.query_selector.selected":"Dashboards2: Query selected in Query Selector","dashboards_views.open_in_discover.opened":"Dashboards2: Widget Opened In Discover","dashboards_views.widget_library.add":"Dashboards2: Number of prebuilt widgets added","dashboards_views.widget_library.add_widget":"Dashboards2: Title of prebuilt widget added","dashboards_views.widget_library.switch_tab":"Dashboards2: Widget Library tab switched","dashboards_views.widget_library.opened":"Dashboards2: Add Widget Library opened","dashboards_manage.search":"Dashboards Manager: Search","dashboards_manage.change_sort":"Dashboards Manager: Sort By Changed","dashboards_manage.create.start":"Dashboards Manager: Dashboard Create Started","dashboards_manage.templates.toggle":"Dashboards Manager: Template Toggle Changed","dashboards_manage.templates.add":"Dashboards Manager: Template Added","dashboards_manage.templates.preview":"Dashboards Manager: Template Previewed","dashboards_views.widget_viewer.edit":"Widget Viewer: Edit Widget Modal Opened","dashboards_views.widget_viewer.open":"Widget Viewer: Opened","dashboards_views.widget_viewer.open_source":"Widget Viewer: Opened in Discover/Issues","dashboards_views.widget_viewer.paginate":"Widget Viewer: Paginate","dashboards_views.widget_viewer.select_query":"Widget Viewer: Query Selected","dashboards_views.widget_viewer.sort":"Widget Viewer: Table Sorted","dashboards_views.widget_viewer.toggle_legend":"Widget Viewer: Legend Toggled","dashboards_views.widget_viewer.zoom":"Widget Viewer: Chart zoomed","dashboards_views.edit_widget_modal.confirm":"Dashboards2: Edit Dashboard Widget modal form submitted","dashboards_views.edit_widget_modal.opened":"Dashboards2: Edit Widget Modal Opened","dashboards_views.add_widget_modal.opened":"Dashboards2: Add Widget Modal opened","dashboards_views.add_widget_modal.change":"Dashboards2: Field changed in Add Widget Modal","dashboards_views.add_widget_modal.confirm":"Dashboards2: Add Widget to Dashboard modal form submitted","dashboards_views.add_widget_modal.save":"Dashboards2: Widget saved directly to Dashboard from Add Widget to Dashboard modal","dashboards_views.widget_builder.change":"Widget Builder: Field changed","dashboards_views.widget_builder.save":"Widget Builder: Form submitted","dashboards_views.widget_builder.opened":"Widget Builder: Page opened"}},"./app/utils/analytics/discoverAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{J:()=>s});const s={"discover_views.add_to_dashboard.modal_open":"Discover2: Add to Dashboard modal opened","discover_views.add_to_dashboard.confirm":"Discover2: Add to Dashboard modal form submitted"}},"./app/utils/analytics/growthAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});const s={"growth.clicked_mobile_prompt_setup_project":"Growth: Clicked Mobile Prompt Setup Project","growth.clicked_mobile_prompt_ask_teammate":"Growth: Clicked Mobile Prompt Ask Teammate","growth.submitted_mobile_prompt_ask_teammate":"Growth: Submitted Mobile Prompt Ask Teammate","growth.demo_click_get_started":"Growth: Demo Click Get Started","growth.demo_click_docs":"Growth: Demo Click Docs","growth.demo_click_request_demo":"Growth: Demo Click Request Demo","growth.clicked_sidebar":"Growth: Clicked Sidebar","growth.onboarding_load_choose_platform":"Growth: Onboarding Load Choose Platform Page","growth.onboarding_set_up_your_project":"Growth: Onboarding Click Set Up Your Project","growth.onboarding_set_up_your_projects":"Growth: Onboarding Click Set Up Your Projects","growth.onboarding_set_up_your_integrations":"Growth: Onboarding Click Set Up Your Integrations","growth.select_platform":"Growth: Onboarding Choose Platform","growth.platformpicker_category":"Growth: Onboarding Platform Category","growth.platformpicker_search":"Growth: Onboarding Platform Search","growth.onboarding_start_onboarding":"Growth: Onboarding Start Onboarding","growth.onboarding_clicked_skip":"Growth: Onboarding Clicked Skip","growth.onboarding_take_to_error":"Growth: Onboarding Take to Error","growth.onboarding_view_full_docs":"Growth: Onboarding View Full Docs","growth.onboarding_view_sample_event":"Growth: Onboarding View Sample Event","growth.onboarding_clicked_instrument_app":"Growth: Onboarding Clicked Instrument App","growth.onboarding_clicked_setup_platform_later":"Growth: Onboarding Clicked Setup Platform Later","growth.onboarding_clicked_setup_integration_later":"Growth: Onboarding Clicked Setup Integration Later","growth.onboarding_quick_start_cta":"Growth: Quick Start Onboarding CTA","growth.onboarding_quick_start_cta_integration":"Growth: Quick Start Onboarding Integration CTA","invite_request.approved":"Invite Request Approved","invite_request.denied":"Invite Request Denied","growth.demo_modal_clicked_signup":"Growth: Demo Modal Clicked Signup","growth.demo_modal_clicked_continue":"Growth: Demo Modal Clicked Continue","growth.clicked_enter_sandbox":"Growth: Clicked Enter Sandbox","growth.onboarding_clicked_project_in_sidebar":"Growth: Clicked Project Sidebar","growth.onboarding_clicked_integration_in_sidebar":"Growth: Clicked Integration Sidebar","growth.sample_transaction_docs_link_clicked":"Growth: Sample Transaction Docs Link Clicked","growth.sample_error_onboarding_link_clicked":"Growth: Sample Error Onboarding Link Clicked","growth.issue_open_in_discover_btn_clicked":"Growth: Open in Discover Button in Issue Details clicked","member_settings_page.loaded":"Member Settings Page Loaded","invite_modal.opened":"Invite Modal: Opened","invite_modal.closed":"Invite Modal: Closed","invite_modal.add_more":"Invite Modal: Add More","invite_modal.invites_sent":"Invite Modal: Invites Sent","invite_modal.requests_sent":"Invite Modal: Requests Sent","sdk_updates.seen":"SDK Updates: Seen","sdk_updates.snoozed":"SDK Updates: Snoozed","sdk_updates.clicked":"SDK Updates: Clicked","onboarding.wizard_opened":"Onboarding Wizard Opened","onboarding.wizard_clicked":"Onboarding Wizard Clicked","sample_event.button_viewed":null,"sample_event.created":"Sample Event Created","sample_event.failed":"Sample Event Failed"}},"./app/utils/analytics/issueAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{d:()=>s});const s={"event_cause.viewed":null,"event_cause.docs_clicked":"Event Cause Docs Clicked","event_cause.snoozed":"Event Cause Snoozed","event_cause.dismissed":"Event Cause Dismissed","issue_error_banner.viewed":"Issue Error Banner Viewed","issues_tab.viewed":"Viewed Issues Tab","issue_search.failed":"Issue Search: Failed","issue.search_sidebar_clicked":"Issue Search Sidebar Clicked","inbox_tab.issue_clicked":"Clicked Issue from Inbox Tab","issues_stream.issue_clicked":"Clicked Issue from Issues Stream","issues_stream.issue_assigned":"Assigned Issue from Issues Stream","issue.shared_publicly":"Issue Shared Publicly",resolve_issue:"Resolve Issue","tag.clicked":"Tag: Clicked"}},"./app/utils/analytics/performanceAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{K:()=>s});const s={"performance_views.create_sample_transaction":"Growth: Performance Sample Transaction","performance_views.tour.start":"Performance Views: Tour Start","performance_views.tour.advance":"Performance Views: Tour Advance","performance_views.tour.close":"Performance Views: Tour Close","performance_views.landingv2.transactions.sort":"Performance Views: Landing Transactions Sorted","performance_views.overview.navigate.summary":"Performance Views: Overview view summary","performance_views.overview.cellaction":"Performance Views: Cell Action Clicked","performance_views.landingv3.widget.interaction":"Performance Views: Landing Widget Interaction","performance_views.landingv3.widget.switch":"Performance Views: Landing Widget Switched","performance_views.landingv3.batch_queries":"Performance Views: Landing Query Batching","performance_views.landingv3.display_change":"Performance Views: Switch Landing Tabs","performance_views.landingv3.table_pagination":"Performance Views: Landing Page Transactions Table Page Changed","performance_views.span_summary.change_chart":"Performance Views: Span Summary displayed chart changed","performance_views.spans.change_op":"Performance Views: Change span operation name","performance_views.spans.change_sort":"Performance Views: Change span sort column","performance_views.overview.view":"Performance Views: Transaction overview view","performance_views.overview.search":"Performance Views: Transaction overview search","performance_views.vital_detail.view":"Performance Views: Vital Detail viewed","performance_views.trace_view.view":"Performance Views: Trace View viewed","performance_views.transaction_summary.change_chart_display":"Performance Views: Transaction Summary chart display changed","performance_views.transaction_summary.status_breakdown_click":"Performance Views: Transaction Summary status breakdown option clicked","performance_views.all_events.open_in_discover":"Performance Views: All Events page open in Discover button clicked","performance_views.tags.change_tag":"Performance Views: Tags Page changed selected tag","performance_views.tags.jump_to_release":"Performance Views: Tags Page link to release in table clicked","performance_views.team_key_transaction.set":"Performance Views: Set Team Key Transaction","performance_views.trends.widget_interaction":"Performance Views: Trends Widget Interaction","performance_views.trends.widget_pagination":"Performance Views: Trends Widget Page Changed","performance_views.trends.change_duration":"Performance Views: Trends Widget Duration Changed"}},"./app/utils/analytics/samplingAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{K:()=>s});const s={"sampling.settings.view":"View Sampling Settings","sampling.settings.condition.add":"Add Sampling Condition","sampling.settings.rule.save":"Save Sampling Rule","sampling.settings.rule.create":"Create Sampling Rule","sampling.settings.rule.update":"Update Sampling Rule","sampling.settings.rule.delete":"Delete Sampling Rule"}},"./app/utils/analytics/searchAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{Y:()=>s});const s={"search.searched":"Search: Performed search","search.operator_autocompleted":"Search: Operator Autocompleted","organization_saved_search.selected":"Organization Saved Search: Selected saved search","settings_search.open":"settings_search Open","command_palette.open":"command_palette Open","sidebar_help.open":"sidebar_help Open","settings_search.select":"settings_search Select","command_palette.select":"command_palette Select","sidebar_help.select":"sidebar_help Select","settings_search.query":"settings_search Query","command_palette.query":"command_palette Query","sidebar_help.query":"sidebar_help Query","projectselector.direct_selection":"Project Selector: Direct Selection","projectselector.update":"Project Selector: Update","projectselector.clear":"Project Selector: Clear","projectselector.toggle":"Project Selector: Toggle","projectselector.multi_button_clicked":"Project Selector: Multi Button Clicked"}},"./app/utils/analytics/settingsAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{$:()=>s});const s={"notification_settings.index_page_viewed":"Notification Settings: Index Page Viewed","notification_settings.tuning_page_viewed":"Notification Settings: Tuning Page Viewed","notification_settings.updated_tuning_setting":"Notification Settings: Updated Tuning Setting"}},"./app/utils/analytics/workflowAnalyticsEvents.tsx":(e,t,r)=>{"use strict";r.d(t,{H:()=>s});const s={"alert_builder.filter":"Alert Builder: Filter","alert_details.viewed":"Alert Details: Viewed","alert_rule_details.viewed":"Alert Rule Details: Viewed","alert_rules.viewed":"Alert Rules: Viewed","alert_stream.viewed":"Alert Stream: Viewed","alert_wizard.option_selected":"Alert Wizard: Option Selected","alert_wizard.option_viewed":"Alert Wizard: Option Viewed","edit_alert_rule.add_row":"Edit Alert Rule: Add Row","edit_alert_rule.viewed":"Edit Alert Rule: Viewed","issue_alert_rule_details.edit_clicked":"Issue Alert Rule Details: Edit Clicked","issue_alert_rule_details.viewed":"Issue Alert Rule Details: Viewed","issue_details.action_clicked":"Issue Details: Action Clicked","issue_details.event_json_clicked":"Issue Details: Event JSON Clicked","issue_details.event_navigation_clicked":"Issue Details: Event Navigation Clicked","issue_details.viewed":"Issue Details: Viewed","new_alert_rule.viewed":"New Alert Rule: Viewed","team_insights.viewed":"Team Insights: Viewed"}},"./app/utils/useApi.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r("../node_modules/react/index.js"),i=r("./app/api.tsx");const a=function(){let{persistInFlight:e,api:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,s.useRef)();void 0===r.current&&void 0===t&&(r.current=new i.KU);const a=null!=t?t:r.current,n=(0,s.useCallback)((()=>{e||a.clear()}),[a,e]);return(0,s.useEffect)((()=>n),[n]),a}},"./app/utils/withApi.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r("./app/utils/getDisplayName.tsx"),i=r("./app/utils/useApi.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=r=>{let{api:s,...n}=r;const o=(0,i.Z)({api:s,...t});return(0,a.tZ)(e,{...n,api:o})};return r.displayName=`withApi(${(0,s.Z)(e)})`,r}},"./app/views/dashboardsV2/utils.tsx":(e,t,r)=>{"use strict";r.d(t,{Cg:()=>E,DW:()=>D,Gl:()=>I,Mf:()=>T,Tk:()=>Z,hS:()=>V,qk:()=>S,s:()=>P,tT:()=>x,y1:()=>O,yd:()=>q,z1:()=>j}),r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/web.dom-collections.iterator.js");var s=r("../node_modules/lodash/cloneDeep.js"),i=r.n(s),a=r("../node_modules/lodash/pick.js"),n=r.n(a),o=r("../node_modules/lodash/trimStart.js"),d=r.n(o),c=r("../node_modules/query-string/index.js"),l=r("./images/dashboard/widget-area.svg"),u=r("./images/dashboard/widget-bar.svg"),p=r("./images/dashboard/widget-big-number.svg"),h=r("./images/dashboard/widget-line-1.svg"),g=r("./images/dashboard/widget-table.svg"),_=r("./images/dashboard/widget-world-map.svg"),m=r("./app/components/arithmeticInput/parser.tsx"),w=r("./app/components/charts/utils.tsx"),v=r("./app/utils.tsx"),f=r("./app/utils/dates.tsx"),b=r("./app/utils/discover/eventView.tsx"),y=r("./app/utils/discover/fields.tsx"),k=r("./app/utils/discover/types.tsx"),A=r("./app/views/dashboardsV2/types.tsx");function S(e){return i()(e)}function x(e,t,r,s){const{start:i,end:a,period:n}=r.datetime,{projects:o,environments:c}=r,l=s!==A.FO.WORLD_MAP||t.columns.includes("geo.country_code")?[...t.columns,...t.aggregates]:["geo.country_code",...t.columns,...t.aggregates],u=s!==A.FO.WORLD_MAP||t.conditions.includes("has:geo.country_code")?t.conditions:`${t.conditions} has:geo.country_code`.trim(),{orderby:p}=t,h=p?`${p.startsWith("-")?"-":""}${(0,y.LY)(d()(p,"-"))}`:p;return b.ZP.fromSavedQuery({id:void 0,name:e,version:2,fields:l,query:u,orderby:h,projects:o,range:null!=n?n:void 0,start:i?(0,f.v5)(i):void 0,end:a?(0,f.v5)(a):void 0,environment:c})}function C(e){return"string"==typeof e?[e]:e}function O(e){if(e){const t=C(e.queryNames),r=C(e.queryConditions),s=C(e.queryFields),i=[];if(r&&t&&s&&"string"==typeof e.queryOrderby){const{columns:a,aggregates:n}=(0,y.n0)(s);r.forEach(((r,o)=>{i.push({name:t[o],conditions:r,fields:s,columns:a,aggregates:n,orderby:e.queryOrderby})}))}if(e.title&&e.displayType&&e.interval&&i.length>0)return{...n()(e,["title","displayType","interval"]),widgetType:A.l9.DISCOVER,queries:i}}}function D(e){switch(e){case A.FO.BAR:return u;case A.FO.AREA:case A.FO.TOP_N:return l;case A.FO.BIG_NUMBER:return p;case A.FO.TABLE:return g;case A.FO.WORLD_MAP:return _;case A.FO.LINE:default:return h}}function P(e,t,r){let s="bar"===e.displayType?"1d":e.interval;s||(s="5m");const i=(0,f.YJ)(s),a=(0,w.Nm)(t);if(r)return s=(0,w.ZS)(t,r),a>w.aC&&a<=w.w3&&(s="1h"),"bar"===e.displayType?"1d":s;if(a/(60*i)>66){const e=(0,w.ZS)(t,"high");if(i<(0,f.YJ)(e))return e}return s}function T(e){const t=new Set;return e.filter(y.GO).forEach((e=>{const r=(0,m.W9)((0,y.bQ)(e)).tc;r.fields.forEach((e=>{let{term:r}=e;return t.add(r)})),r.functions.forEach((e=>{let{term:r}=e;return t.add(r)}))})),Array.from(t)}function j(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=x(e.title,e.queries[s],t,e.displayType),a=i.getResultsViewUrlTarget(r.slug),n=i.getYAxisOptions().map((e=>{let{value:t}=e;return t}));switch(a.query.yAxis=[...new Set(e.queries[0].aggregates.filter((e=>n.includes(e))))].slice(0,3),e.displayType){case A.FO.WORLD_MAP:a.query.display=k.DC.WORLDMAP;break;case A.FO.BAR:a.query.display=k.DC.BAR;break;case A.FO.TOP_N:a.query.display=k.DC.TOP5;const t=e.queries[0].aggregates;a.query.yAxis=t[t.length-1],t.slice(0,-1).includes(t[t.length-1])&&(a.query.field=t.slice(0,-1))}const o=a.query.field,d=e.queries[0],l=(0,v.ri)(d.fields)?d.fields:[...d.columns,...d.aggregates],u=T(l);u.forEach((e=>{Array.isArray(o)&&!o.includes(e)&&o.unshift(e)}));const p=`${a.pathname}?${c.stringify({...a.query})}`;return p}function V(e,t,r){var s,i,a,n;const{start:o,end:d,utc:l,period:u}=t.datetime,p=o&&d?{start:(0,f.v5)(o),end:(0,f.v5)(d),utc:l}:{statsPeriod:u};return`/organizations/${r.slug}/issues/?${c.stringify({query:null===(s=e.queries)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.conditions,sort:null===(a=e.queries)||void 0===a||null===(n=a[0])||void 0===n?void 0:n.orderby,...p,project:t.projects,environment:t.environments})}`}function E(e,t,r){const{start:s,end:i,utc:a,period:n}=t.datetime,o=s&&i?{start:(0,f.v5)(s),end:(0,f.v5)(i),utc:a}:{statsPeriod:n};return`/organizations/${r.slug}/releases/?${c.stringify({...o,project:t.projects,environment:t.environments})}`}function Z(e,t){return"string"==typeof e?t.error=e:Object.keys(e).forEach((r=>{const s=e[r];"string"!=typeof s?Array.isArray(s)&&"string"==typeof s[0]?t[r]=s[0]:Array.isArray(s)&&"object"==typeof s[0]?s.map((e=>Z(e,t))):Z(s,t):t[r]=s})),t}function I(e){return e?{dataset:"metricsEnhanced"}:{}}function q(e){return e.filter(y.GO).length}},"../node_modules/lodash/_charsStartIndex.js":(e,t,r)=>{var s=r("../node_modules/lodash/_baseIndexOf.js");e.exports=function(e,t){for(var r=-1,i=e.length;++r<i&&s(t,e[r],0)>-1;);return r}},"../node_modules/lodash/cloneDeep.js":(e,t,r)=>{var s=r("../node_modules/lodash/_baseClone.js");e.exports=function(e){return s(e,5)}},"../node_modules/lodash/pick.js":(e,t,r)=>{var s=r("../node_modules/lodash/_basePick.js"),i=r("../node_modules/lodash/_flatRest.js")((function(e,t){return null==e?{}:s(e,t)}));e.exports=i},"../node_modules/lodash/trimStart.js":(e,t,r)=>{var s=r("../node_modules/lodash/_baseToString.js"),i=r("../node_modules/lodash/_castSlice.js"),a=r("../node_modules/lodash/_charsStartIndex.js"),n=r("../node_modules/lodash/_stringToArray.js"),o=r("../node_modules/lodash/toString.js"),d=/^\s+/;e.exports=function(e,t,r){if((e=o(e))&&(r||void 0===t))return e.replace(d,"");if(!e||!(t=s(t)))return e;var c=n(e),l=a(c,n(t));return i(c,l).join("")}},"./app/components/arithmeticInput/grammar.pegjs":e=>{"use strict";function t(e,r,s,i){this.message=e,this.expected=r,this.found=s,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(t,Error),t.buildMessage=function(e,t){var r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?a(e.parts[t][0])+"-"+a(e.parts[t][1]):a(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function s(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+s(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+s(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+s(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+s(e)}))}return"Expected "+function(e){var t,s,i,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=(i=e[t],r[i.type](i));if(a.sort(),a.length>0){for(t=1,s=1;t<a.length;t++)a[t-1]!==a[t]&&(a[s]=a[t],s++);a.length=s}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:t,parse:function(e,r){r=void 0!==r?r:{};var s,i={},a={term:K},n=K,o=function(e,t){return ne.tokenOperation(e,t)},d=B("+",!1),c=B("-",!1),l=B("*",!1),u=/^[\/\xF7]/,p=N(["/","÷"],!1,!1),h=Q("function"),g=Q("number"),_=/^[+\-]/,m=N(["+","-"],!1,!1),w=/^[0-9]/,v=N([["0","9"]],!1,!1),f=B(".",!1),b=Q("field"),y=/^[a-zA-Z_.]/,k=N([["a","z"],["A","Z"],"_","."],!1,!1),A=/^[^()\t\n, "]/,S=N(["(",")","\t","\n",","," ",'"'],!0,!1),x=B('"',!1),C='\\"',O=B('\\"',!1),D=/^[^\t\n"]/,P=N(["\t","\n",'"'],!0,!1),T=/^[a-zA-Z_0-9]/,j=N([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),V=B(",",!1),E=B("(",!1),Z=B(")",!1),I=B(" ",!1),q=0,W=0,F=[{line:1,column:1}],G=0,z=[],R=0;if("startRule"in r){if(!(r.startRule in a))throw new Error("Can't start parsing from rule \""+r.startRule+'".');n=a[r.startRule]}function M(){return e.substring(W,q)}function L(){return Y(W,q)}function B(e,t){return{type:"literal",text:e,ignoreCase:t}}function N(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Q(e){return{type:"other",description:e}}function U(t){var r,s=F[t];if(s)return s;for(r=t-1;!F[r];)r--;for(s={line:(s=F[r]).line,column:s.column};r<t;)10===e.charCodeAt(r)?(s.line++,s.column=1):s.column++,r++;return F[t]=s,s}function Y(e,t){var r=U(e),s=U(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:s.line,column:s.column}}}function $(e){q<G||(q>G&&(G=q,z=[]),z.push(e))}function K(){var e,t,r,s,a;return e=q,(t=X())!==i?(r=function(){var e,t;for(e=[],t=J();t!==i;)e.push(t),t=J();return e}(),r!==i?(W=e,s=t,a=r,e=t=ne.tokenTerm(s,a)):(q=e,e=i)):(q=e,e=i),e}function J(){var t,r,s;return t=q,r=function(){var t,r;return t=q,ae()!==i?(r=function(){var t,r;return t=q,43===e.charCodeAt(q)?(r="+",q++):(r=i,0===R&&$(d)),r!==i&&(W=t,r="plus"),r}(),r===i&&(r=function(){var t,r;return t=q,45===e.charCodeAt(q)?(r="-",q++):(r=i,0===R&&$(c)),r!==i&&(W=t,r="minus"),r}()),r!==i&&ae()!==i?(W=t,t=r):(q=t,t=i)):(q=t,t=i),t}(),r!==i&&(s=X())!==i?(W=t,t=r=o(r,s)):(q=t,t=i),t}function X(){var e,t;return e=q,ae()!==i?(t=function(){var e,t,r,s,a;return e=q,(t=ee())!==i?(r=function(){var e,t;if(e=[],(t=H())!==i)for(;t!==i;)e.push(t),t=H();else e=i;return e}(),r!==i?(W=e,s=t,a=r,e=t=ne.tokenFactor(s,a)):(q=e,e=i)):(q=e,e=i),e}(),t===i&&(t=ee()),t!==i&&ae()!==i?(W=e,e=t):(q=e,e=i)):(q=e,e=i),e}function H(){var t,r,s;return t=q,r=function(){var t,r;return t=q,ae()!==i?(r=function(){var t,r;return t=q,42===e.charCodeAt(q)?(r="*",q++):(r=i,0===R&&$(l)),r!==i&&(W=t,r="multiply"),r}(),r===i&&(r=function(){var t,r;return t=q,u.test(e.charAt(q))?(r=e.charAt(q),q++):(r=i,0===R&&$(p)),r!==i&&(W=t,r="divide"),r}()),r!==i&&ae()!==i?(W=t,t=r):(q=t,t=i)):(q=t,t=i),t}(),r!==i&&(s=ee())!==i?(W=t,t=r=o(r,s)):(q=t,t=i),t}function ee(){var t,r;return t=q,ae()!==i?(r=function(){var e,t;return e=q,se()!==i&&(t=K())!==i&&ie()!==i?(W=e,e=t):(q=e,e=i),e}(),r===i&&(r=function(){var t,r,s,a,n,o,d;if(R++,t=q,_.test(e.charAt(q))?(r=e.charAt(q),q++):(r=i,0===R&&$(m)),r===i&&(r=null),r!==i){if(s=[],w.test(e.charAt(q))?(a=e.charAt(q),q++):(a=i,0===R&&$(v)),a!==i)for(;a!==i;)s.push(a),w.test(e.charAt(q))?(a=e.charAt(q),q++):(a=i,0===R&&$(v));else s=i;if(s!==i){if(a=q,46===e.charCodeAt(q)?(n=".",q++):(n=i,0===R&&$(f)),n!==i){for(o=[],w.test(e.charAt(q))?(d=e.charAt(q),q++):(d=i,0===R&&$(v));d!==i;)o.push(d),w.test(e.charAt(q))?(d=e.charAt(q),q++):(d=i,0===R&&$(v));o!==i?a=n=[n,o]:(q=a,a=i)}else q=a,a=i;a===i&&(a=null),a!==i?(W=t,t=r=M()):(q=t,t=i)}else q=t,t=i}else q=t,t=i;return R--,t===i&&(r=i,0===R&&$(g)),t}(),r===i&&(r=function(){var t,r,s;return R++,t=q,r=function(){var t,r;if(t=[],T.test(e.charAt(q))?(r=e.charAt(q),q++):(r=i,0===R&&$(j)),r!==i)for(;r!==i;)t.push(r),T.test(e.charAt(q))?(r=e.charAt(q),q++):(r=i,0===R&&$(j));else t=i;return t}(),r!==i&&se()!==i&&ae()!==i?(s=function(){var e,t,r,s,a,n,o,d;if(e=q,(t=te())!==i){for(r=[],s=q,(a=ae())!==i&&(n=re())!==i&&(o=ae())!==i&&(d=te())!==i?s=a=[a,n,o,d]:(q=s,s=i);s!==i;)r.push(s),s=q,(a=ae())!==i&&(n=re())!==i&&(o=ae())!==i&&(d=te())!==i?s=a=[a,n,o,d]:(q=s,s=i);r!==i?e=t=[t,r]:(q=e,e=i)}else q=e,e=i;return e}(),s===i&&(s=null),s!==i&&ae()!==i&&ie()!==i?(W=t,t=r=ne.tokenFunction(M(),L())):(q=t,t=i)):(q=t,t=i),R--,t===i&&(r=i,0===R&&$(h)),t}(),r===i&&(r=function(){var t,r,s;if(R++,t=q,r=[],y.test(e.charAt(q))?(s=e.charAt(q),q++):(s=i,0===R&&$(k)),s!==i)for(;s!==i;)r.push(s),y.test(e.charAt(q))?(s=e.charAt(q),q++):(s=i,0===R&&$(k));else r=i;return r!==i&&(W=t,r=ne.tokenField(M(),L())),R--,(t=r)===i&&(r=i,0===R&&$(b)),t}()))),r!==i&&ae()!==i?(W=t,t=r):(q=t,t=i)):(q=t,t=i),t}function te(){var t;return(t=function(){var t,r,s,a;if(t=q,34===e.charCodeAt(q)?(r='"',q++):(r=i,0===R&&$(x)),r!==i){for(s=[],e.substr(q,2)===C?(a=C,q+=2):(a=i,0===R&&$(O)),a===i&&(D.test(e.charAt(q))?(a=e.charAt(q),q++):(a=i,0===R&&$(P)));a!==i;)s.push(a),e.substr(q,2)===C?(a=C,q+=2):(a=i,0===R&&$(O)),a===i&&(D.test(e.charAt(q))?(a=e.charAt(q),q++):(a=i,0===R&&$(P)));s!==i?(34===e.charCodeAt(q)?(a='"',q++):(a=i,0===R&&$(x)),a!==i?t=r=[r,s,a]:(q=t,t=i)):(q=t,t=i)}else q=t,t=i;return t}())===i&&(t=function(){var t,r;if(t=[],A.test(e.charAt(q))?(r=e.charAt(q),q++):(r=i,0===R&&$(S)),r!==i)for(;r!==i;)t.push(r),A.test(e.charAt(q))?(r=e.charAt(q),q++):(r=i,0===R&&$(S));else t=i;return t}()),t}function re(){var t;return 44===e.charCodeAt(q)?(t=",",q++):(t=i,0===R&&$(V)),t}function se(){var t;return 40===e.charCodeAt(q)?(t="(",q++):(t=i,0===R&&$(E)),t}function ie(){var t;return 41===e.charCodeAt(q)?(t=")",q++):(t=i,0===R&&$(Z)),t}function ae(){var t,r;for(t=[],32===e.charCodeAt(q)?(r=" ",q++):(r=i,0===R&&$(I));r!==i;)t.push(r),32===e.charCodeAt(q)?(r=" ",q++):(r=i,0===R&&$(I));return t}const{tc:ne,term:oe}=r;if((s=n())!==i&&q===e.length)return s;throw s!==i&&q<e.length&&$({type:"end"}),function(e,r,s){return new t(t.buildMessage(e,r),e,r,s)}(z,G<e.length?e.charAt(G):null,G<e.length?Y(G,G+1):Y(G,G))}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_dashboardWidgetQuerySelectorModal_tsx-app_stores_organizationStore_tsx--a7701b.3d28eb23a4e961c8bd28cdceb112019c.js.map
"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_collapsePanel_tsx-app_views_organizationStats_header_tsx-app_views_organizatio-58673a"],{"./app/components/collapsePanel.tsx":(e,t,o)=>{o.d(t,{$:()=>m,Z:()=>u});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),i=o("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),a=o("./app/icons/index.tsx"),r=o("./app/locale.tsx"),l=o("./app/styles/space.tsx"),d=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=5;function c(e){let{items:t,buttonTitle:o="More",collapseCount:s=m,disableBorder:n=!0,onClick:i}=e;return(0,d.BX)(p,{onClick:i,role:"button","data-test-id":"collapse-show-more",disableBorder:n,children:[(0,d.BX)(h,{children:[(0,d.tZ)(g,{color:"gray300"}),(0,r._N)("Show [count] [buttonTitle]",{count:t-s,buttonTitle:o})]}),(0,d.tZ)(a.g6,{color:"gray300",direction:"down"})]})}c.displayName="ShowMoreButton";const u=function(e){let{items:t,children:o,buttonTitle:s,collapseCount:i=m,disableBorder:a=!0}=e;const[r,l]=(0,n.useState)(!1);return o({isExpanded:r,showMoreButton:r||t<=i?null:(0,d.tZ)(c,{items:t,buttonTitle:s,collapseCount:i,disableBorder:a,onClick:function(){l(!0)}})})},p=(0,s.Z)("div",{target:"e1dsvobb2"})("display:flex;align-items:center;padding:",(0,l.Z)(1)," ",(0,l.Z)(2),";font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";cursor:pointer;border-top:1px solid ",(e=>e.theme.border),";",(e=>!e.disableBorder&&(0,i.iv)("border-left:1px solid ",e.theme.border,";border-right:1px solid ",e.theme.border,";border-bottom:1px solid ",e.theme.border,";border-bottom-left-radius:",e.theme.borderRadius,";border-bottom-right-radius:",e.theme.borderRadius,";margin-bottom:",(0,l.Z)(2),";","")),";"),g=(0,s.Z)(a.Zd,{target:"e1dsvobb1"})("margin-right:",(0,l.Z)(1),";"),h=(0,s.Z)("div",{target:"e1dsvobb0"})({name:"18keaja",styles:"display:flex;align-items:center;flex-grow:1"})},"./app/components/pageTimeRangeSelector.tsx":(e,t,o)=>{o.d(t,{Z:()=>u});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("./app/components/organizations/timeRangeSelector/index.tsx"),i=o("./app/components/panels/index.tsx"),a=o("./app/locale.tsx"),r=o("./app/styles/space.tsx"),l=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{className:t,...o}=e;return(0,l.tZ)(m,{className:t,children:(0,l.tZ)(n.Z,{label:(0,l.tZ)(c,{children:(0,a.t)("Date Range:")}),detached:!0,...o},`period:${o.relative}-start:${o.start}-end:${o.end}-utc:${o.utc}-defaultPeriod:${o.defaultPeriod}`)})}d.displayName="PageTimeRangeSelector";const m=(0,s.Z)(i.s_,{target:"e1hsuxgy1"})("padding:0;margin:0;display:flex;justify-content:center;align-items:center;height:42px;background:",(e=>e.theme.background),";border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.textColor),";>div{width:100%;align-self:stretch;}>div>div:first-child>div{padding:0 ",(0,r.Z)(2),";}>div>div:last-child:not(:first-child){min-width:calc(100% + 2px);transform:translateX(-1px);right:auto;}"),c=(0,s.Z)("span",{target:"e1hsuxgy0"})("text-align:left;font-weight:600;color:",(e=>e.theme.textColor),";>span:last-child{font-weight:400;}"),u=d},"./app/views/organizationStats/header.tsx":(e,t,o)=>{o.d(t,{Z:()=>c});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("./app/components/button.tsx"),i=o("./app/components/layouts/thirds.tsx"),a=o("./app/components/links/link.tsx"),r=o("./app/locale.tsx"),l=o("./app/styles/space.tsx"),d=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{organization:t,activeTab:o}=e;return(0,d.BX)(i.h4,{children:[(0,d.tZ)(i.oB,{children:(0,d.tZ)(u,{children:(0,r.t)("Stats")})}),(0,d.tZ)(i.kP,{children:"stats"!==o&&(0,d.tZ)(n.ZP,{title:(0,r.t)("Send us feedback via email"),size:"small",href:"mailto:alerting-feedback@sentry.io?subject=Team Stats Feedback",children:(0,r.t)("Give Feedback")})}),(0,d.BX)(i.mL,{underlined:!0,children:[(0,d.tZ)("li",{className:"stats"===o?"active":"",children:(0,d.tZ)(a.Z,{to:`/organizations/${t.slug}/stats/`,children:(0,r.t)("Usage")})}),(0,d.tZ)("li",{className:"issues"===o?"active":"",children:(0,d.tZ)(a.Z,{to:`/organizations/${t.slug}/stats/issues/`,children:(0,r.t)("Issues")})}),(0,d.tZ)("li",{className:"health"===o?"active":"",children:(0,d.tZ)(a.Z,{to:`/organizations/${t.slug}/stats/health/`,children:(0,r.t)("Health")})})]})]})}m.displayName="StatsHeader";const c=m,u=(0,s.Z)(i.Dx,{target:"e8yr0f60"})("margin-top:",(0,l.Z)(.5),";")},"./app/views/organizationStats/teamInsights/controls.tsx":(e,t,o)=>{o.d(t,{Z:()=>S});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/@emotion/react/dist/emotion-element-cbed451f.browser.esm.js")),i=o("../node_modules/lodash/pick.js"),a=o.n(i),r=o("../node_modules/lodash/uniq.js"),l=o.n(r),d=o("../node_modules/moment/moment.js"),m=o.n(d),c=o("./app/components/forms/selectControl.tsx"),u=o("./app/components/forms/teamSelector.tsx"),p=o("./app/components/pageTimeRangeSelector.tsx"),g=o("./app/locale.tsx"),h=o("./app/styles/space.tsx"),b=o("./app/utils/isActiveSuperuser.tsx"),x=o("./app/utils/localStorage.tsx"),f=o("./app/utils/useOrganization.tsx"),v=o("./app/utils/useProjects.tsx"),Z=o("./app/views/organizationStats/teamInsights/utils.tsx"),w=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const y=["pageStatsPeriod","pageStart","pageEnd","pageUtc","dataCategory","transform","sort","query","cursor","team","environment"];function j(e){var t,o;let{location:s,router:i,currentTeam:r,currentEnvironment:d,showEnvironment:u}=e;const{projects:p}=(0,v.Z)({slugs:null!==(t=null==r?void 0:r.projects.map((e=>e.slug)))&&void 0!==t?t:[]}),j=(0,f.Z)(),S=(0,b.M)(),T=(0,n.a)(),C=null!==(o=null==s?void 0:s.query)&&void 0!==o?o:{},M=`teamInsightsSelectedTeamId:${j.slug}`;function B(e){const t=a()(e,y),o={...s,query:{...C,...t}};return i.push(o),o}const{period:P,start:I,end:N,utc:R}=(0,Z.lI)(C),L=l()(p.map((e=>e.environments)).flat()).map((e=>({label:e,value:e})));return(0,w.BX)(_,{showEnvironment:u,children:[(0,w.tZ)(k,{name:"select-team",inFieldLabel:(0,g.t)("Team: "),value:null==r?void 0:r.slug,onChange:e=>{return t=e.actor.id,x.Z.setItem(M,t),void B({team:t,environment:void 0});var t},teamFilter:S?void 0:e=>e.isMember,styles:{singleValue(e){const t={display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:T.fontSizeMedium,":before":{...e[":before"],color:T.textColor,marginRight:(0,h.Z)(1.5),marginLeft:(0,h.Z)(.5)}};return{...e,...t}},input:(e,t)=>({...e,display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",gridGap:(0,h.Z)(1),":before":{backgroundColor:t.theme.backgroundSecondary,height:24,width:38,borderRadius:3,content:'""',display:"block"}})}}),u&&(0,w.tZ)(c.Z,{options:[{value:"",label:(0,g.t)("All")},...L],value:null!=d?d:"",onChange:function(e){let{value:t}=e;B(""===t?{environment:void 0}:{environment:t})},styles:{input:e=>({...e,display:"grid",gridTemplateColumns:"max-content 1fr",alignItems:"center",gridGap:(0,h.Z)(1),":before":{height:24,width:90,borderRadius:3,content:'""',display:"block"}}),control:e=>({...e,boxShadow:"none"}),singleValue:e=>({...e,fontSize:T.fontSizeMedium,display:"flex",":before":{...e[":before"],color:T.textColor,marginRight:(0,h.Z)(1.5)}})},inFieldLabel:(0,g.t)("Environment:")}),(0,w.tZ)(z,{organization:j,relative:null!=P?P:"",start:null!=I?I:null,end:null!=N?N:null,utc:null!=R?R:null,onUpdate:function(e){const{start:t,end:o,relative:s,utc:n}=e;if(t&&o){const e=n?m().utc:m();return B({pageStatsPeriod:void 0,pageStart:e(t).format(),pageEnd:e(o).format(),pageUtc:null!=n?n:void 0})}return B({pageStatsPeriod:s||void 0,pageStart:void 0,pageEnd:void 0,pageUtc:void 0})},showAbsolute:!1,relativeOptions:{"14d":(0,g.t)("Last 2 weeks"),"4w":(0,g.t)("Last 4 weeks"),"8w":(0,g.t)("Last 8 weeks"),"12w":(0,g.t)("Last 12 weeks")}})]})}j.displayName="TeamStatsControls";const S=j,_=(0,s.Z)("div",{target:"epxns6w2"})("display:grid;align-items:center;gap:",(0,h.Z)(2),";margin-bottom:",(0,h.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:246px ",(e=>e.showEnvironment?"246px":"")," 1fr;}"),k=(0,s.Z)(u.Z,{target:"epxns6w1"})("&>div{box-shadow:",(e=>e.theme.dropShadowLight),";}"),z=(0,s.Z)(p.Z,{target:"epxns6w0"})({name:"j6w5js",styles:"height:40px;div{min-height:unset;}"})},"./app/views/organizationStats/teamInsights/descriptionCard.tsx":(e,t,o)=>{o.d(t,{Z:()=>r});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("./app/styles/space.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{title:t,description:o,children:s}=e;return(0,i.BX)(l,{children:[(0,i.BX)(d,{children:[(0,i.tZ)(m,{children:t}),(0,i.tZ)(c,{children:o})]}),(0,i.tZ)(u,{children:s})]})}a.displayName="DescriptionCard";const r=a,l=(0,s.Z)("div",{target:"eyf29hd4"})("border:1px solid ",(e=>e.theme.border),";border-radius:",(e=>e.theme.borderRadius),";display:flex;margin-bottom:",(0,n.Z)(3),";flex-direction:column;@media (min-width: ",(e=>e.theme.breakpoints.medium),"){flex-direction:row;}"),d=(0,s.Z)("div",{target:"eyf29hd3"})("padding:",(0,n.Z)(2)," ",(0,n.Z)(2),";border-bottom:1px solid ",(e=>e.theme.border),";@media (min-width: ",(e=>e.theme.breakpoints.medium),"){max-width:250px;border-right:1px solid ",(e=>e.theme.border),";border-bottom:0;}"),m=(0,s.Z)("div",{target:"eyf29hd2"})("font-size:",(e=>e.theme.fontSizeLarge),";margin:0 0 ",(0,n.Z)(.5),";"),c=(0,s.Z)("div",{target:"eyf29hd1"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";"),u=(0,s.Z)("div",{target:"eyf29hd0"})({name:"1ff36h2",styles:"flex-grow:1"})},"./app/views/organizationStats/teamInsights/styles.tsx":(e,t,o)=>{o.d(t,{R:()=>i,W:()=>a});var s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=o("./app/components/idBadge/index.tsx");const i=(0,s.Z)("div",{target:"e1l696dj1"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),a=(0,s.Z)(n.Z,{target:"e1l696dj0"})({name:"ozd7xs",styles:"flex-shrink:0"})},"./app/views/organizationStats/teamInsights/utils.tsx":(e,t,o)=>{o.d(t,{E7:()=>r,Gs:()=>a,NW:()=>l,lI:()=>m,tP:()=>d}),o("../node_modules/core-js/modules/web.dom-collections.iterator.js");var s=o("../node_modules/moment/moment.js"),n=o.n(s),i=o("./app/components/organizations/pageFilters/parse.tsx");function a(e){return e.sort(((e,t)=>new Date(e.name).getTime()-new Date(t.name).getTime()))}function r(e){return Object.entries(e).map((e=>{let[t,o]=e;return{value:o,name:new Date(t).getTime()}}))}function l(e){return[...e.filter((e=>Math.round(e.trend)<0)),...e.filter((e=>Math.round(e.trend)>0)),...e.filter((e=>0===Math.round(e.trend)))]}const d=e=>({splitNumber:Math.max(Math.round(e/7),4),type:"category",axisTick:{alignWithLabel:!0},axisLabel:{formatter:e=>n()(new Date(Number(e))).format("MMM D")}});function m(e){const{start:t,end:o,statsPeriod:s,utc:a}=(0,i.fK)(e,{allowEmptyPeriod:!0,allowAbsoluteDatetime:!0,allowAbsolutePageDatetime:!0});if(!s&&!t&&!o)return{period:"8w"};if(s)return{period:s};const r="true"===a;return t&&o?r?{start:n().utc(t).format(),end:n().utc(o).format(),utc:r}:{start:n()(t).utc().format(),end:n()(o).utc().format(),utc:r}:{period:"8w"}}}}]);
//# sourceMappingURL=../sourcemaps/app_components_collapsePanel_tsx-app_views_organizationStats_header_tsx-app_views_organizatio-58673a.242767535cd0172120b6270b253e0175.js.map
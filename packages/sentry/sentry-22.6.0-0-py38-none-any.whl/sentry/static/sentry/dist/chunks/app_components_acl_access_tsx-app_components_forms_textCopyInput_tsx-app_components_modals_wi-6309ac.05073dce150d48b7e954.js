"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_acl_access_tsx-app_components_forms_textCopyInput_tsx-app_components_modals_wi-6309ac"],{"./app/components/acl/access.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(s("../node_modules/core-js/modules/es.array.includes.js"),s("../node_modules/react/index.js")),r=s("./app/components/alert.tsx"),a=s("./app/locale.tsx"),i=s("./app/utils/isRenderFunc.tsx"),d=s("./app/utils/withConfig.tsx"),l=s("./app/utils/withOrganization.tsx");const c=(0,s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js").tZ)(r.Z,{type:"error",showIcon:!0,children:(0,a.t)("You do not have sufficient permissions to access this.")});class p extends n.Component{render(){const{organization:e,config:t,access:s,requireAll:o,isSuperuser:n,renderNoAccessMessage:r,children:a}=this.props,{access:d}=e||{access:[]},l=!s||s[o?"every":"some"]((e=>d.includes(e))),p=!(!t.user||!t.user.isSuperuser),u={hasAccess:l,hasSuperuser:p},m=l&&(!n||p);return m||"function"!=typeof r?!m&&r?c:(0,i.l)(a)?a(u):m?a:null:r(u)}}p.displayName="Access",(0,o.Z)(p,"defaultProps",{renderNoAccessMessage:!1,isSuperuser:!1,requireAll:!0,access:[]});const u=(0,l.Z)((0,d.Z)(p))},"./app/components/forms/textCopyInput.tsx":(e,t,s)=>{s.d(t,{Fy:()=>h,ZP:()=>w,qR:()=>b});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),a=s("../node_modules/react-dom/profiling.js"),i=s("./app/components/button.tsx"),d=s("./app/components/clipboard.tsx"),l=s("./app/icons/index.tsx"),c=s("./app/styles/input.tsx"),p=s("./app/utils/selectText.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=(0,n.Z)("div",{target:"etk0cn13"})({name:"zjik7",styles:"display:flex"}),h=(0,n.Z)("input",{target:"etk0cn12"})(c.T,";background-color:",(e=>e.theme.backgroundSecondary),";border-right-width:0;border-top-right-radius:0;border-bottom-right-radius:0;direction:",(e=>e.rtl?"rtl":"ltr"),";&:hover,&:focus{background-color:",(e=>e.theme.backgroundSecondary),";border-right-width:0;}"),g=(0,n.Z)("div",{target:"etk0cn11"})({name:"1u4yjkc",styles:"flex-grow:1;border:none"}),b=(0,n.Z)(i.ZP,{target:"etk0cn10"})({name:"1tz1tsa",styles:"flex-shrink:1;border-radius:0 0.25em 0.25em 0;box-shadow:none"});class x extends r.Component{constructor(){super(...arguments),(0,o.Z)(this,"textRef",(0,r.createRef)()),(0,o.Z)(this,"handleCopyClick",(e=>{if(!this.textRef.current)return;const{onCopy:t,children:s}=this.props;this.handleSelectText(),null==t||t(s,e),e.stopPropagation()})),(0,o.Z)(this,"handleSelectText",(()=>{const{rtl:e}=this.props;if(!this.textRef.current)return;const t=(0,a.findDOMNode)(this.textRef.current);t&&t instanceof HTMLElement&&(e&&t instanceof HTMLInputElement?t.setSelectionRange(1,t.value.length-1):(0,p.e)(t))}))}render(){const{className:e,disabled:t,style:s,children:o,rtl:n}=this.props,r=n?"‪"+o+"‬":o;return(0,u.BX)(m,{className:e,children:[(0,u.tZ)(g,{children:(0,u.tZ)(h,{readOnly:!0,disabled:t,ref:this.textRef,style:s,value:r,onClick:this.handleSelectText,rtl:n})}),(0,u.tZ)(d.Z,{hideUnsupported:!0,value:o,children:(0,u.tZ)(b,{type:"button",disabled:t,onClick:this.handleCopyClick,children:(0,u.tZ)(l.vU,{})})})]})}}x.displayName="TextCopyInput";const w=x},"./app/components/modals/widgetBuilder/addToDashboardModal.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z,modalCss:()=>_});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/actionCreators/dashboards.tsx"),a=s("./app/actionCreators/indicator.tsx"),i=s("./app/components/button.tsx"),d=s("./app/components/buttonBar.tsx"),l=s("./app/components/forms/selectControl.tsx"),c=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),u=s("./app/utils/handleXhrErrorResponse.tsx"),m=s("./app/utils/useApi.tsx"),h=s("./app/views/dashboardsV2/types.tsx"),g=s("./app/views/dashboardsV2/widgetBuilder/utils.tsx"),b=s("./app/views/dashboardsV2/widgetCard/index.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const w=(0,c.t)("Select a dashboard");function y(e){let{Header:t,Body:s,Footer:o,closeModal:d,organization:p,router:y,selection:Z,widget:_,widgetAsQueryParams:v}=e;const C=(0,m.Z)(),[k,S]=(0,n.useState)(null),[A,T]=(0,n.useState)(null);(0,n.useEffect)((()=>{(0,r.j2)(C,p.slug).then(S)}),[]);const N=null!==A;return(0,x.BX)(n.Fragment,{children:[(0,x.tZ)(t,{closeButton:!0,children:(0,x.tZ)("h4",{children:(0,c.t)("Add to Dashboard")})}),(0,x.BX)(s,{children:[(0,x.tZ)(f,{children:(0,x.tZ)(l.Z,{disabled:null===k,menuPlacement:"auto",name:"dashboard",placeholder:(0,c.t)("Select Dashboard"),value:A,options:k&&[{label:(0,c.t)("+ Create New Dashboard"),value:"new"},...k.map((e=>{let{title:t,id:s,widgetDisplay:o}=e;return{label:t,value:s,isDisabled:o.length>=h.ZU,tooltip:o.length>=h.ZU&&(0,c._N)("Max widgets ([maxWidgets]) per dashboard reached.",{maxWidgets:h.ZU}),tooltipOptions:{position:"right"}}}))],onChange:e=>{e.disabled||T(e.value)}})}),(0,c.t)("This is a preview of how the widget will appear in your dashboard."),(0,x.tZ)(b.Z,{api:C,organization:p,currentWidgetDragging:!1,isEditing:!1,isSorting:!1,widgetLimitReached:!1,selection:Z,widget:_,showStoredAlert:!0})]}),(0,x.tZ)(o,{children:(0,x.BX)(j,{gap:1.5,children:[(0,x.tZ)(i.ZP,{onClick:async function(){if(null===A||A===g.i0)return;let e=_.queries[0].orderby;h.FO.AREA&&_.queries[0].columns.length||(e="");const t=_.queries[0],s={..._,title:""===_.title?(0,c.t)("All Events"):_.title,queries:[{...t,orderby:e}]};try{const e=await(0,r.AK)(C,p.slug,A),t={...e,widgets:[...e.widgets,s]};await(0,r.Y)(C,p.slug,t),d(),(0,a.S9)((0,c.t)("Successfully added widget to dashboard"))}catch(e){const t=(0,c.t)("Unable to add widget to dashboard");(0,u.Z)(t)(e),(0,a.Iw)(t)}},disabled:!N||A===g.i0,title:N?void 0:w,children:(0,c.t)("Add + Stay in Discover")}),(0,x.tZ)(i.ZP,{priority:"primary",onClick:function(){const e=A===g.i0?`/organizations/${p.slug}/dashboards/new/widget/new/`:`/organizations/${p.slug}/dashboard/${A}/widget/new/`;y.push({pathname:e,query:v}),d()},disabled:!N,title:N?void 0:w,children:(0,c.t)("Open in Widget Builder")})]})})]})}y.displayName="AddToDashboardModal";const Z=y,f=(0,o.Z)("div",{target:"erdydty1"})("margin-bottom:",(0,p.Z)(2),";"),j=(0,o.Z)(d.ZP,{target:"erdydty0"})("@media (max-width: ",(e=>e.theme.breakpoints.small),"){grid-template-rows:repeat(2, 1fr);gap:",(0,p.Z)(1.5),";width:100%;>button{width:100%;}}"),_={name:"jzg5s9",styles:"max-width:700px;margin:70px auto"}},"./app/utils/withConfig.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var o=s("./app/stores/configStore.tsx"),n=s("./app/stores/useLegacyStore.tsx"),r=s("./app/utils/getDisplayName.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){const t=t=>{const s={config:(0,n.X)(o.Z),...t};return(0,a.tZ)(e,{...s})};return t.displayName=`withConfig(${(0,r.Z)(e)})`,t}}}]);
//# sourceMappingURL=../sourcemaps/app_components_acl_access_tsx-app_components_forms_textCopyInput_tsx-app_components_modals_wi-6309ac.d9471c070cd199b53d03d7c3e7482cd2.js.map
"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_charts_errorPanel_tsx-app_components_links_listLink_tsx-app_views_performance_-e7a6ab"],{"./app/components/charts/chartZoom.tsx":(e,t,o)=>{o.d(t,{Z:()=>y});var a=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),i=o("../node_modules/moment/moment.js"),r=o.n(i),n=o("../node_modules/query-string/index.js"),l=o("./app/actionCreators/pageFilters.tsx"),d=o("./app/components/charts/components/dataZoomInside.tsx");o("../node_modules/echarts/lib/component/dataZoomSlider.js");const c={realtime:!1,showDetail:!1,left:0,right:6,bottom:8};function p(e){return e&&Array.isArray(e)?e:[{...c,...e}]}var m=o("./app/components/charts/components/toolBox.tsx"),u=o("./app/utils/callIfFunction.tsx"),h=o("./app/utils/dates.tsx");const _=e=>e?r().utc(e).format(r().HTML5_FMT.DATETIME_LOCAL_SECONDS):null;class f extends s.Component{constructor(e){var t;super(e),t=this,(0,a.Z)(this,"history",void 0),(0,a.Z)(this,"currentPeriod",void 0),(0,a.Z)(this,"zooming",null),(0,a.Z)(this,"saveCurrentPeriod",(e=>{this.currentPeriod={period:e.period,start:_(e.start),end:_(e.end)}})),(0,a.Z)(this,"setPeriod",(function(e){let{period:o,start:a,end:s}=e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{router:r,onZoom:d,usePageDate:c}=t.props,p=_(a),m=_(s);i&&t.history.push(t.currentPeriod),(0,u.g)(d,{period:o,start:p,end:m}),t.zooming=()=>{if(c&&r){const e={...r.location.query,pageStart:a?(0,h.v5)(a):void 0,pageEnd:s?(0,h.v5)(s):void 0,pageStatsPeriod:null!=o?o:void 0};n.stringify(e)!==n.stringify(r.location.query)&&r.push({pathname:r.location.pathname,query:e})}else(0,l.dR)({period:o,start:p?(0,h.hC)(p):p,end:m?(0,h.hC)(m):m},r);t.saveCurrentPeriod({period:o,start:a,end:s})}})),(0,a.Z)(this,"handleChartReady",(e=>{(0,u.g)(this.props.onChartReady,e)})),(0,a.Z)(this,"handleZoomRestore",((e,t)=>{this.history.length&&(this.setPeriod(this.history[0]),this.history=[],(0,u.g)(this.props.onRestore,e,t))})),(0,a.Z)(this,"handleDataZoom",((e,t)=>{const o=t.getModel(),{startValue:a,endValue:s}=o._payload.batch[0];if(null===a&&null===s){const e=this.history.pop();if(!e)return;this.setPeriod(e)}else{const e=r().utc(a),t=r().utc(s);this.setPeriod({period:null,start:e,end:t},!0)}(0,u.g)(this.props.onDataZoom,e,t)})),(0,a.Z)(this,"handleChartFinished",((e,t)=>{var o;"function"==typeof this.zooming&&(this.zooming(),this.zooming=null);const a=null===(o=t._componentsViews)||void 0===o?void 0:o.find((e=>e._features&&e._features.dataZoom));a&&!a._features.dataZoom._isZoomActive&&t.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0}),(0,u.g)(this.props.onFinished)})),this.history=[],this.saveCurrentPeriod(e)}componentDidUpdate(){this.props.disabled||this.saveCurrentPeriod(this.props)}render(){const{utc:e,start:t,end:o,disabled:a,children:s,xAxisIndex:i,router:r,onZoom:n,onRestore:l,onChartReady:c,onDataZoom:u,onFinished:_,showSlider:f,chartZoomOptions:y,...A}=this.props,S=null!=e?e:void 0,g=t?(0,h.hC)(t):void 0,T=o?(0,h.hC)(o):void 0;return s(a?{utc:S,start:g,end:T,...A}:{isGroupedByDate:!0,onChartReady:this.handleChartReady,utc:S,start:g,end:T,dataZoom:f?[...p({xAxisIndex:i,...y}),...(0,d.Z)({xAxisIndex:i,...y})]:(0,d.Z)({xAxisIndex:i,...y}),showTimeInTooltip:!0,toolBox:(0,m.Z)({},{dataZoom:{title:{zoom:"",back:""},iconStyle:{borderWidth:0,color:"transparent",opacity:0}}}),onDataZoom:this.handleDataZoom,onFinished:this.handleChartFinished,onRestore:this.handleZoomRestore,...A})}}f.displayName="ChartZoom";const y=f},"./app/components/charts/components/dataZoomInside.tsx":(e,t,o)=>{o.d(t,{Z:()=>s}),o("../node_modules/echarts/lib/component/dataZoomInside.js");const a={type:"inside",zoomOnMouseWheel:!1,zoomLock:!0,throttle:50};function s(e){return e&&Array.isArray(e)?e:[{...a,...e}]}},"./app/components/charts/components/markArea.tsx":(e,t,o)=>{function a(e){return{...e}}o.d(t,{Z:()=>a}),o("../node_modules/echarts/lib/component/markArea.js")},"./app/components/charts/components/toolBox.tsx":(e,t,o)=>{function a(){let{dataZoom:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e?{dataZoom:{yAxisIndex:"none",title:{zoom:"zoom",back:"undo"},...e}}:{},...t}}function s(e,t){return{right:0,top:0,itemSize:16,z:-1,feature:a(t),...e}}o.d(t,{Z:()=>s})},"./app/components/charts/errorPanel.tsx":(e,t,o)=>{o.d(t,{Z:()=>a});const a=(0,o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1six6h50"})("display:flex;flex-direction:column;justify-content:center;align-items:center;flex:1;flex-shrink:0;overflow:hidden;height:",(e=>e.height||"200px"),";position:relative;border-color:transparent;margin-bottom:0;color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeExtraLarge),";")},"./app/components/charts/lineChart.tsx":(e,t,o)=>{o.d(t,{w:()=>r});var a=o("./app/components/charts/series/lineSeries.tsx"),s=o("./app/components/charts/baseChart.tsx"),i=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{series:t,seriesOptions:o,...r}=e;return(0,i.tZ)(s.Z,{...r,series:t.map((e=>{let{seriesName:t,data:s,dataArray:i,...r}=e;return(0,a.Z)({...o,...r,name:t,data:i||(null==s?void 0:s.map((e=>{let{value:t,name:o}=e;return[o,t]}))),animation:!1,animationThreshold:1,animationDuration:0})}))})}r.displayName="LineChart"},"./app/components/gridEditable/sortLink.tsx":(e,t,o)=>{o.d(t,{Z:()=>u});var a=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("../node_modules/lodash/omit.js"),i=o.n(s),r=o("./app/components/links/link.tsx"),n=o("./app/icons/index.tsx"),l=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{align:t,title:o,canSort:a,generateSortLink:s,onClick:i,direction:r}=e;const n=s();if(!n||!a)return(0,l.tZ)(p,{align:t,children:o});const d=r?(0,l.tZ)(m,{size:"xs",direction:"desc"===r?"down":"up"}):null;return(0,l.BX)(c,{align:t,to:n,onClick:i,children:[o," ",d]})}d.displayName="SortLink";const c=(0,a.Z)((e=>{const t=i()(e,["align"]);return(0,l.tZ)(r.Z,{...t})}),{target:"e1xb2te62"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,a.Z)("div",{target:"e1xb2te61"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),m=(0,a.Z)(n.CC,{target:"e1xb2te60"})({name:"40f4ru",styles:"vertical-align:top"}),u=d},"./app/components/links/listLink.tsx":(e,t,o)=>{o.d(t,{Z:()=>h});var a=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),r=o("../node_modules/react-router/es/index.js"),n=o("../node_modules/classnames/index.js"),l=o.n(n),d=o("../node_modules/lodash/omit.js"),c=o.n(d),p=o("../node_modules/query-string/index.js"),m=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class u extends i.Component{constructor(){super(...arguments),(0,a.Z)(this,"getClassName",(()=>{const e={},{className:t,activeClassName:o}=this.props;return t&&(e[t]=!0),this.isActive()&&o&&(e[o]=!0),l()(e)}))}isActive(){const{isActive:e,to:t,query:o,index:a,router:s}=this.props,i=o?p.parse(o):void 0,r="string"==typeof t?{pathname:t,query:i}:t;return"function"==typeof e?e(r,a):s.isActive(r,a)}render(){const{index:e,children:t,to:o,disabled:a,...s}=this.props,i=c()(s,"activeClassName","css","isActive","index","router","location");return(0,m.tZ)(_,{className:this.getClassName(),disabled:a,children:(0,m.tZ)(r.Link,{...i,onlyActiveOnIndex:e,to:a?"":o,children:t})})}}u.displayName="ListLink",(0,a.Z)(u,"displayName","ListLink"),(0,a.Z)(u,"defaultProps",{activeClassName:"active",index:!1,disabled:!1});const h=(0,r.withRouter)(u),_=(0,s.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"er8tqc10"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/utils/performance/anomalies/anomaliesQuery.tsx":(e,t,o)=>{o.d(t,{Z:()=>c}),o("../node_modules/core-js/modules/es.array.includes.js");var a=o("./app/utils/discover/genericDiscoverQuery.tsx"),s=o("./app/utils/withApi.tsx"),i=o("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){return e.data.forEach((e=>e[0]=1e3*e[0])),e}function l(e){const t={...e};return e.y&&e.yhat_lower&&e.yhat_upper&&e.anomalies?(t.y=n(e.y),t.yhat_upper=n(e.yhat_upper),t.yhat_lower=n(e.yhat_lower),t.anomalies=((o=e.anomalies).forEach((e=>{e.start=1e3*e.start,e.end=1e3*e.end})),o),t):t;var o}function d(e){return e.organization.features.includes(i.uT)?(0,r.tZ)(a.ZP,{route:"transaction-anomaly-detection",...e,children:t=>{let{tableData:o,...a}=t;return e.children({data:o&&o.y?l(o):null,...a})}}):(0,r.tZ)("div",{children:e.children({data:null,isLoading:!1,error:null,pageLinks:null})})}d.displayName="AnomaliesSeriesQuery";const c=(0,s.Z)(d)},"./app/utils/performance/contexts/metricsEnhancedSetting.tsx":(e,t,o)=>{o.d(t,{Eg:()=>h,kP:()=>u,nP:()=>c,nl:()=>p,oR:()=>m}),o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/core-js/modules/es.array.includes.js");var a=o("../node_modules/react/index.js"),s=(o("./app/utils/localStorage.tsx"),o("./app/utils/useOrganization.tsx")),i=o("./app/utils/performance/contexts/utils.tsx"),r=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const[n,l,d]=(0,i.n)({name:"MetricsEnhancedSettingContext"}),c=d.Consumer;let p,m;!function(e){e.unset="unset",e.metrics="metrics",e.transactions="transactions"}(p||(p={})),function(e){e.auto="auto",e.metricsOnly="metricsOnly",e.transactionsOnly="transactionsOnly"}(m||(m={}));const u=e=>{let{children:t,_hasMEPState:o}=e;const i=(0,s.Z)().features.includes("performance-use-metrics"),l=void 0!==o,[d,c]=(0,a.useReducer)(((e,t)=>t),m.auto),[u,h]=(0,a.useReducer)(((e,t)=>t),p.unset),_=l?o:d,f=i&&(_===m.metricsOnly||_===m.auto),y=i&&_===m.auto,A=i&&_===m.metricsOnly,S=i&&_===m.transactionsOnly,g=`${_}`;return(0,r.tZ)(n,{value:{autoSampleState:u,metricSettingState:_,hideSinceMetricsOnly:f,shouldQueryProvideMEPParams:y,shouldQueryProvideMEPMetricParams:A,shouldQueryProvideMEPTransactionParams:S,memoizationKey:g,setMetricSettingState:c,setAutoSampleState:h},children:t})};u.displayName="MEPSettingProvider";const h=l},"./app/utils/performance/urls.ts":(e,t,o)=>{o.d(t,{D:()=>i});var a=o("./app/components/events/interfaces/spans/utils.tsx"),s=o("./app/utils.tsx");function i(e,t,o,i,r){const n={...i||{},transaction:o};(0,s.ri)(n.transaction)||delete n.transaction;const l={pathname:`/organizations/${e}/performance/${t}/`,query:n,hash:(0,s.ri)(r)?(0,a.ct)(r):void 0};return(0,s.ri)(l.hash)||delete l.hash,l}},"./app/views/performance/landing/widgets/types.tsx":(e,t,o)=>{let a,s;o.d(t,{A:()=>s}),function(e){e.ERROR="error",e.LOADING="loading",e.EMPTY="empty",e.DATA="data"}(a||(a={})),function(e){e.histogram="histogram",e.area="area",e.vitals="vitals",e.line_list="line_list",e.trends="trends"}(s||(s={}))},"./app/views/performance/landing/widgets/utils.tsx":(e,t,o)=>{o.d(t,{CJ:()=>r,I2:()=>d,gM:()=>n,rp:()=>u,zM:()=>h,zS:()=>l}),o("../node_modules/core-js/modules/es.array.includes.js");var a=o("./app/utils.tsx"),s=o("./app/utils/localStorage.tsx"),i=o("./app/views/performance/landing/widgets/widgetDefinitions.tsx");const r=["children","organization","yAxis","period","start","end","environment","project","referrer"];function n(e){let t={};const o={preventMetricAggregates:"1"};return e.shouldQueryProvideMEPParams&&(t={...t,...o,metricsEnhanced:"1",dataset:"metricsEnhanced"}),e.shouldQueryProvideMEPTransactionParams&&(t={...t,...o,dataset:"discover"}),e.shouldQueryProvideMEPMetricParams&&(t={...t,...o,dataset:"metrics"}),(0,a.z)(t)?void 0:t}const l=[i.s.MOST_RELATED_ERRORS,i.s.MOST_RELATED_ISSUES];function d(e,t){if(!l.includes(t))return n(e)}const c="landing-chart-container",p=(e,t,o)=>`landing-chart-container#${t}#${o}#${e}`;function m(){return JSON.parse(s.Z.getItem(c)||"{}")}const u=(e,t,o,a,s)=>{if(s)return a;const r=p(e,o,t),n=m(),l=null==n?void 0:n[r];return l&&Object.values(i.s).includes(l)?l:a},h=(e,t,o,a)=>{const i=p(e,o,t),r=m();r[i]=a,function(e){s.Z.setItem(c,JSON.stringify(e))}(r)}},"./app/views/performance/landing/widgets/widgetDefinitions.tsx":(e,t,o)=>{o.d(t,{W:()=>d,s:()=>n});var a=o("./app/constants/chartPalette.tsx"),s=o("./app/locale.tsx"),i=o("./app/views/performance/data.tsx"),r=o("./app/views/performance/landing/widgets/types.tsx");let n;!function(e){e.DURATION_HISTOGRAM="duration_histogram",e.LCP_HISTOGRAM="lcp_histogram",e.FCP_HISTOGRAM="fcp_histogram",e.FID_HISTOGRAM="fid_histogram",e.APDEX_AREA="apdex_area",e.P50_DURATION_AREA="p50_duration_area",e.P75_DURATION_AREA="p75_duration_area",e.P95_DURATION_AREA="p95_duration_area",e.P99_DURATION_AREA="p99_duration_area",e.P75_LCP_AREA="p75_lcp_area",e.TPM_AREA="tpm_area",e.FAILURE_RATE_AREA="failure_rate_area",e.USER_MISERY_AREA="user_misery_area",e.WORST_LCP_VITALS="worst_lcp_vitals",e.WORST_FCP_VITALS="worst_fcp_vitals",e.WORST_CLS_VITALS="worst_cls_vitals",e.WORST_FID_VITALS="worst_fid_vitals",e.MOST_IMPROVED="most_improved",e.MOST_REGRESSED="most_regressed",e.MOST_RELATED_ERRORS="most_related_errors",e.MOST_RELATED_ISSUES="most_related_issues",e.SLOW_HTTP_OPS="slow_http_ops",e.SLOW_DB_OPS="slow_db_ops",e.SLOW_RESOURCE_OPS="slow_resource_ops",e.SLOW_BROWSER_OPS="slow_browser_ops",e.COLD_STARTUP_AREA="cold_startup_area",e.WARM_STARTUP_AREA="warm_startup_area",e.SLOW_FRAMES_AREA="slow_frames_area",e.FROZEN_FRAMES_AREA="frozen_frames_area",e.MOST_SLOW_FRAMES="most_slow_frames",e.MOST_FROZEN_FRAMES="most_frozen_frames"}(n||(n={}));const l=a.Z[5],d=e=>{let{organization:t}=e;return{[n.DURATION_HISTOGRAM]:{title:(0,s.t)("Duration Distribution"),titleTooltip:(0,i.$r)(t,i.V$.DURATION_DISTRIBUTION),fields:["transaction.duration"],dataType:r.A.histogram,chartColor:l[5]},[n.LCP_HISTOGRAM]:{title:(0,s.t)("LCP Distribution"),titleTooltip:(0,i.$r)(t,i.V$.DURATION_DISTRIBUTION),fields:["measurements.lcp"],dataType:r.A.histogram,chartColor:l[5]},[n.FCP_HISTOGRAM]:{title:(0,s.t)("FCP Distribution"),titleTooltip:(0,i.$r)(t,i.V$.DURATION_DISTRIBUTION),fields:["measurements.fcp"],dataType:r.A.histogram,chartColor:l[5]},[n.FID_HISTOGRAM]:{title:(0,s.t)("FID Distribution"),titleTooltip:(0,i.$r)(t,i.V$.DURATION_DISTRIBUTION),fields:["measurements.fid"],dataType:r.A.histogram,chartColor:l[5]},[n.WORST_LCP_VITALS]:{title:(0,s.t)("Worst LCP Web Vitals"),titleTooltip:(0,i.$r)(t,i.V$.LCP),fields:["measurements.lcp"],vitalStops:{poor:4e3,meh:2500},dataType:r.A.vitals},[n.WORST_FCP_VITALS]:{title:(0,s.t)("Worst FCP Web Vitals"),titleTooltip:(0,i.$r)(t,i.V$.FCP),fields:["measurements.fcp"],vitalStops:{poor:3e3,meh:1e3},dataType:r.A.vitals},[n.WORST_FID_VITALS]:{title:(0,s.t)("Worst FID Web Vitals"),titleTooltip:(0,i.$r)(t,i.V$.FID),fields:["measurements.fid"],vitalStops:{poor:300,meh:100},dataType:r.A.vitals},[n.WORST_CLS_VITALS]:{title:(0,s.t)("Worst CLS Web Vitals"),titleTooltip:(0,i.$r)(t,i.V$.CLS),fields:["measurements.cls"],vitalStops:{poor:.25,meh:.1},dataType:r.A.vitals},[n.TPM_AREA]:{title:(0,s.t)("Transactions Per Minute"),titleTooltip:(0,i.$r)(t,i.V$.TPM),fields:["tpm()"],dataType:r.A.area,chartColor:l[1]},[n.APDEX_AREA]:{title:(0,s.t)("Apdex"),titleTooltip:(0,i.$r)(t,i.V$.APDEX),fields:["apdex()"],dataType:r.A.area,chartColor:l[4]},[n.P50_DURATION_AREA]:{title:(0,s.t)("p50 Duration"),titleTooltip:(0,i.$r)(t,i.V$.P50),fields:["p50(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P75_DURATION_AREA]:{title:(0,s.t)("p75 Duration"),titleTooltip:(0,i.$r)(t,i.V$.P75),fields:["p75(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P95_DURATION_AREA]:{title:(0,s.t)("p95 Duration"),titleTooltip:(0,i.$r)(t,i.V$.P95),fields:["p95(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P99_DURATION_AREA]:{title:(0,s.t)("p99 Duration"),titleTooltip:(0,i.$r)(t,i.V$.P99),fields:["p99(transaction.duration)"],dataType:r.A.area,chartColor:l[3]},[n.P75_LCP_AREA]:{title:(0,s.t)("p75 LCP"),titleTooltip:(0,i.$r)(t,i.V$.P75),fields:["p75(measurements.lcp)"],dataType:r.A.area,chartColor:l[1]},[n.FAILURE_RATE_AREA]:{title:(0,s.t)("Failure Rate"),titleTooltip:(0,i.$r)(t,i.V$.FAILURE_RATE),fields:["failure_rate()"],dataType:r.A.area,chartColor:l[2]},[n.USER_MISERY_AREA]:{title:(0,s.t)("User Misery"),titleTooltip:(0,i.$r)(t,i.V$.USER_MISERY),fields:["user_misery()"],dataType:r.A.area,chartColor:l[0]},[n.COLD_STARTUP_AREA]:{title:(0,s.t)("Cold Startup Time"),titleTooltip:(0,i.$r)(t,i.V$.APP_START_COLD),fields:["p75(measurements.app_start_cold)"],dataType:r.A.area,chartColor:l[4]},[n.WARM_STARTUP_AREA]:{title:(0,s.t)("Warm Startup Time"),titleTooltip:(0,i.$r)(t,i.V$.APP_START_WARM),fields:["p75(measurements.app_start_warm)"],dataType:r.A.area,chartColor:l[3]},[n.SLOW_FRAMES_AREA]:{title:(0,s.t)("Slow Frames"),titleTooltip:(0,i.$r)(t,i.V$.SLOW_FRAMES),fields:["p75(measurements.frames_slow_rate)"],dataType:r.A.area,chartColor:l[0]},[n.FROZEN_FRAMES_AREA]:{title:(0,s.t)("Frozen Frames"),titleTooltip:(0,i.$r)(t,i.V$.FROZEN_FRAMES),fields:["p75(measurements.frames_frozen_rate)"],dataType:r.A.area,chartColor:l[5]},[n.MOST_RELATED_ERRORS]:{title:(0,s.t)("Most Related Errors"),titleTooltip:(0,i.$r)(t,i.V$.MOST_ERRORS),fields:["failure_count()"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_RELATED_ISSUES]:{title:(0,s.t)("Most Related Issues"),titleTooltip:(0,i.$r)(t,i.V$.MOST_ISSUES),fields:["count()"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_HTTP_OPS]:{title:(0,s.t)("Slow HTTP Ops"),titleTooltip:(0,i.$r)(t,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.http)"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_BROWSER_OPS]:{title:(0,s.t)("Slow Browser Ops"),titleTooltip:(0,i.$r)(t,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.browser)"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_RESOURCE_OPS]:{title:(0,s.t)("Slow Resource Ops"),titleTooltip:(0,i.$r)(t,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.resource)"],dataType:r.A.line_list,chartColor:l[0]},[n.SLOW_DB_OPS]:{title:(0,s.t)("Slow DB Ops"),titleTooltip:(0,i.$r)(t,i.V$.SLOW_HTTP_SPANS),fields:["p75(spans.db)"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_SLOW_FRAMES]:{title:(0,s.t)("Most Slow Frames"),titleTooltip:(0,i.$r)(t,i.V$.SLOW_FRAMES),fields:["avg(measurements.frames_slow)"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_FROZEN_FRAMES]:{title:(0,s.t)("Most Frozen Frames"),titleTooltip:(0,i.$r)(t,i.V$.FROZEN_FRAMES),fields:["avg(measurements.frames_frozen)"],dataType:r.A.line_list,chartColor:l[0]},[n.MOST_IMPROVED]:{title:(0,s.t)("Most Improved"),titleTooltip:(0,s.t)("This compares the baseline (%s) of the past with the present.","improved"),fields:[],dataType:r.A.trends},[n.MOST_REGRESSED]:{title:(0,s.t)("Most Regressed"),titleTooltip:(0,s.t)("This compares the baseline (%s) of the past with the present.","regressed"),fields:[],dataType:r.A.trends}}}},"./app/views/performance/transactionSummary/transactionAnomalies/index.tsx":(e,t,o)=>{o.r(t),o.d(t,{default:()=>de});var a=o("./app/locale.tsx"),s=o("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),i=o("./app/utils/withOrganization.tsx"),r=o("./app/utils/withProjects.tsx"),n=o("./app/views/performance/transactionSummary/pageLayout.tsx"),l=o("./app/views/performance/transactionSummary/tabs.tsx"),d=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),c=(o("../node_modules/core-js/modules/web.dom-collections.iterator.js"),o("../node_modules/react/index.js")),p=o("../node_modules/react-router/es/index.js"),m=o("../node_modules/lodash/omit.js"),u=o.n(m),h=o("./app/components/charts/components/markArea.tsx"),_=o("./app/components/charts/components/markLine.tsx"),f=o("./app/components/datePageFilter.tsx"),y=o("./app/components/environmentPageFilter.tsx"),A=o("./app/components/events/searchBar.tsx"),S=o("./app/components/layouts/thirds.tsx"),g=o("./app/components/organizations/pageFilterBar.tsx"),T=o("./app/components/organizations/pageFilters/parse.tsx"),x=o("./app/styles/space.tsx"),v=o("./app/utils.tsx"),R=o("./app/utils/performance/anomalies/anomaliesQuery.tsx"),Z=o("./app/utils/queryString.tsx"),P=o("./app/utils/theme.tsx"),w=o("./app/views/performance/landing/widgets/components/performanceWidget.tsx"),E=o("./app/views/performance/landing/widgets/components/selectableList.tsx"),O=o("./app/views/performance/landing/widgets/widgetDefinitions.tsx"),C=o("./app/components/count.tsx"),b=o("./app/components/gridEditable/index.tsx"),L=o("./app/components/gridEditable/sortLink.tsx"),I=o("./app/icons/index.tsx"),D=o("./app/utils/discover/fieldRenderers.tsx"),M=o("./app/utils/discover/fields.tsx"),j=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const $=e=>({anomaly:`#${e.id}`,confidence:e.confidence,timestamp:new Date(e.start),timeInterval:e.end-e.start,expected:e.expected,received:e.received});function F(e){const{location:t,organization:o,isLoading:a,anomalies:s}=e,i=(null==s?void 0:s.map($))||[];return(0,j.tZ)(b.ZP,{isLoading:a,data:i,columnOrder:Object.values(q),columnSortBy:[],grid:{renderHeadCell:N,renderBodyCell:k(t,o)},location:t})}function N(e,t){const o=(0,M.qG)(e.key,B[e.key]);return(0,j.tZ)(L.Z,{title:e.name,align:o,direction:void 0,canSort:!1,generateSortLink:()=>{}})}function k(e,t){return(o,s)=>{const i=(0,D.Js)(o.key,B);return"confidence"===o.key?(0,j.tZ)(U,{children:"low"===s.confidence?(0,j.tZ)(V,{children:(0,a.t)("Low Confidence")}):(0,j.tZ)(W,{children:(0,a.t)("High Confidence")})}):"expected"===o.key?(0,j.tZ)(z,{children:(0,j.tZ)(C.Z,{value:s.expected})}):"received"===o.key?(0,j.BX)(z,{children:[(0,j.tZ)(C.Z,{value:s.received}),(0,j.tZ)(I.CC,{size:"sm",direction:s.received>s.expected?"up":"down"})]}):i(s,{location:e,organization:t})}}F.displayName="AnomaliesTable",N.displayName="renderHeadCell";const z=(0,d.Z)("div",{target:"e1uhfujm3"})("display:flex;justify-content:flex-end;align-items:center;gap:",(0,x.Z)(.5),";"),V=(0,d.Z)("div",{target:"e1uhfujm2"})("color:",(e=>e.theme.yellow300),";"),W=(0,d.Z)("div",{target:"e1uhfujm1"})("color:",(e=>e.theme.red300),";"),U=(0,d.Z)("div",{target:"e1uhfujm0"})({name:"1qetfgc",styles:"text-align:left;justify-self:flex-end;flex-grow:1"}),q={anomaly:{key:"anomaly",name:(0,a.t)("Anomaly"),width:b.z7},confidence:{key:"confidence",name:(0,a.t)("Confidence"),width:b.z7},timeInterval:{key:"timeInterval",name:(0,a.t)("Time Interval"),width:b.z7},timestamp:{key:"timestamp",name:(0,a.t)("Timestamp"),width:b.z7},expected:{key:"expected",name:(0,a.t)("Expected"),width:b.z7},received:{key:"received",name:(0,a.t)("Received"),width:b.z7}},B={anomaly:"string",confidence:"string",timeInterval:"duration",timestamp:"date",expected:"number",received:"number"};var H=o("./app/components/charts/chartZoom.tsx"),G=o("./app/components/charts/lineChart.tsx"),Q=o("./app/utils/dates.tsx"),X=o("./app/utils/discover/charts.tsx");const Y=e=>{const{data:t,location:o,statsPeriod:s,height:i,router:r,start:n,end:l}=e,d=n?(0,Q.hC)(n):null,c=l?(0,Q.hC)(l):null,{utc:p}=(0,T.fK)(o.query),m={legend:{right:10,top:5,data:[(0,a.t)("High Confidence"),(0,a.t)("Low Confidence")]},seriesOptions:{showSymbol:!1},height:i,tooltip:{trigger:"axis",valueFormatter:X.CX},xAxis:void 0,yAxis:{axisLabel:{formatter:e=>(0,X.gu)(e,"tpm()")}}};return(0,j.tZ)(H.Z,{router:r,period:s,start:d,end:c,utc:"true"===p,children:e=>(0,j.tZ)(G.w,{...e,series:t,...m})})};Y.displayName="_AnomalyChart";const J=(0,p.withRouter)(Y),K=e=>`#${e.id}`,ee=e=>[{name:K(e),xAxis:e.start},{xAxis:e.end}],te=(e,t)=>{const o=[],a=t.data;if(!a)return{isLoading:t.isLoading,isErrored:!!t.error,data:void 0,hasData:!1,loading:t.isLoading};o.push({seriesName:"tpm()",data:a.y.data.map((e=>{let[t,[{count:o}]]=e;return{name:t,value:o}}))}),o.push({seriesName:"tpm() lower bound",data:a.yhat_lower.data.map((e=>{let[t,[{count:o}]]=e;return{name:t,value:o}}))}),o.push({seriesName:"tpm() upper bound",data:a.yhat_upper.data.map((e=>{let[t,[{count:o}]]=e;return{name:t,value:o}}))});const s=t.data.anomalies,i=s.filter((e=>"high"===e.confidence)).map(ee),r=s.filter((e=>"high"===e.confidence)).map((e=>({xAxis:e.start,name:K(e)}))),n=s.filter((e=>"low"===e.confidence)).map(ee),l=s.filter((e=>"low"===e.confidence)).map((e=>({xAxis:e.start,name:K(e)})));return o.push({seriesName:"High Confidence",color:P.ZP.red300,data:[],silent:!0,markLine:(0,_.Z)({animation:!1,lineStyle:{color:P.ZP.red300,type:"solid",width:1,opacity:1},data:r,label:{show:!0,rotate:90,color:P.ZP.red300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:e=>`${e.data.name}`}}),markArea:(0,h.Z)({itemStyle:{color:P.ZP.red300,opacity:.2},label:{show:!1},data:i})}),o.push({seriesName:"Low Confidence",color:P.ZP.yellow200,data:[],markLine:(0,_.Z)({animation:!1,lineStyle:{color:P.ZP.yellow200,type:"solid",width:1,opacity:1},data:l,label:{show:!0,rotate:90,color:P.ZP.yellow300,position:"insideEndBottom",fontSize:"10",offset:[5,5],formatter:e=>`${e.data.name}`}}),markArea:(0,h.Z)({itemStyle:{color:P.ZP.yellow200,opacity:.2},label:{show:!1},data:n})}),{isLoading:t.isLoading,isErrored:!!t.error,data:o,hasData:!0,loading:t.isLoading}};function oe(e){const t=P.ZP.charts.colors[0],o=(0,c.useMemo)((()=>({fields:"",component:t=>(0,j.tZ)(c.Fragment,{children:t.children(e.queryData)}),transform:te})),[e.queryData]);return(0,j.tZ)(w.I,{...e,title:(0,a.t)("Transaction Count"),titleTooltip:(0,a.t)("Represents transaction count across time, with added visualizations to highlight anomalies in your data."),fields:[""],chartSetting:O.s.TPM_AREA,chartDefinition:O.W[O.s.TPM_AREA],Subtitle:()=>(0,j.tZ)("div",{}),HeaderActions:()=>(0,j.tZ)("div",{}),EmptyComponent:E.xq,Queries:{chart:o},Visualizations:[{component:e=>{var o,a;const s=null!==(o=null===(a=e.widgetData.chart.data)||void 0===a?void 0:a.map((e=>("tpm()"!==e.seriesName&&(e.lineStyle={type:"dashed",color:t,width:1.5}),"score"===e.seriesName&&(e.lineStyle={color:P.ZP.red400}),e))))&&void 0!==o?o:[];return(0,j.tZ)(J,{...e,data:s,height:250,statsPeriod:void 0,start:null,end:null})},height:250}]})}function ae(e){const{location:t,organization:o,eventView:a}=e,s=(0,Z.ro)(t.query.query,"");return(0,j.BX)(S.or,{fullWidth:!0,children:[(0,j.BX)(se,{children:[(0,j.BX)(g.Z,{condensed:!0,children:[(0,j.tZ)(y.Z,{}),(0,j.tZ)(f.Z,{alignDropdown:"left"})]}),(0,j.tZ)(A.Z,{organization:o,projectIds:a.project,query:s,fields:a.fields,onSearch:(i="query",function(e){const o=(0,T.fK)({...t.query||{},[i]:e}),a=["cursor"];(0,v.ri)(e)||a.push(i);const s=u()(o,a);p.browserHistory.push({...t,query:s})})})]}),(0,j.tZ)(R.Z,{organization:o,location:t,eventView:a,children:t=>{var o;return(0,j.BX)(c.Fragment,{children:[(0,j.tZ)(oe,{...e,queryData:t}),(0,j.tZ)(F,{anomalies:null===(o=t.data)||void 0===o?void 0:o.anomalies,...e,isLoading:t.isLoading})]})}})]});var i}oe.displayName="Anomalies",ae.displayName="AnomaliesContent";const se=(0,d.Z)("div",{target:"eoagdn90"})("display:grid;gap:",(0,x.Z)(2),";margin-bottom:",(0,x.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){grid-template-columns:auto 1fr;}"),ie=ae;var re=o("./app/views/performance/transactionSummary/transactionAnomalies/utils.tsx");function ne(e){const{location:t,organization:o,projects:a}=e;return(0,j.tZ)(s.kP,{children:(0,j.tZ)(n.ZP,{location:t,organization:o,projects:a,tab:l.Z.Anomalies,generateEventView:re.h2,getDocumentTitle:le,childComponent:ie})})}function le(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,a.t)("Performance")].join(" - "):[(0,a.t)("Summary"),(0,a.t)("Performance")].join(" - ")}ne.displayName="TransactionAnomalies";const de=(0,r.Z)((0,i.Z)(ne))},"./app/views/performance/transactionSummary/utils.tsx":(e,t,o)=>{o.d(t,{K0:()=>d,PU:()=>p,Z6:()=>u,e1:()=>m,uI:()=>_,vd:()=>h,xf:()=>c});var a=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=o("./app/styles/space.tsx"),i=o("./app/utils/discover/urls.tsx"),r=o("./app/utils/performance/urls.ts"),n=o("./app/utils/tokenizeSearch.tsx"),l=o("./app/views/performance/traceDetails/utils.tsx");let d;function c(e){const t=p(e);return t.removeFilter("transaction"),t}function p(e){const t=new n.MY(e);return t.removeFilter("event.type"),t}function m(e){let{orgSlug:t,transaction:o,projectID:a,query:s,unselectedSeries:i="p100()",display:r,trendFunction:n,trendColumn:l,showTransactions:d,additionalQuery:p}=e;const m=function(e){let{orgSlug:t}=e;return`/organizations/${t}/performance/summary/`}({orgSlug:t});let u;return u="string"==typeof s.query?c(s.query).formatString():s.query,{pathname:m,query:{transaction:o,project:a,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:u,unselectedSeries:i,showTransactions:d,display:r,trendFunction:n,trendColumn:l,...p}}}function u(e){return(t,o,a)=>{const s=`${o.trace}`;return s?(0,l.YA)(t,s,e,{}):{}}}function h(e){return(t,o,a,s)=>{const n=(0,i.JE)(o);return(0,r.D)(t.slug,n,e,a,s)}}!function(e){e.FASTEST="fastest",e.SLOW="slow",e.OUTLIER="outlier",e.RECENT="recent"}(d||(d={}));const _=(0,a.Z)("div",{target:"e1radvp0"})("margin-top:",(0,s.Z)(3),";")}}]);
//# sourceMappingURL=../sourcemaps/app_components_charts_errorPanel_tsx-app_components_links_listLink_tsx-app_views_performance_-e7a6ab.a3f120cd9dde4582dc8ba048d210f348.js.map
var Vt=Object.defineProperty,jt=Object.defineProperties;var Kt=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ze=(e,t,r)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))Pe.call(t,r)&&ze(e,r,t[r]);if(Z)for(var r of Z(t))Be.call(t,r)&&ze(e,r,t[r]);return e},A=(e,t)=>jt(e,Kt(t));var P=(e,t)=>{var r={};for(var s in e)Pe.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Z)for(var s of Z(e))t.indexOf(s)<0&&Be.call(e,s)&&(r[s]=e[s]);return r};import{u as w,j as n,P as qt,T as W,C as Qt,p as Ue,r as We,E as B,F as Jt,D as ee,V as Xt,R as Yt,l as Zt,h as He,f as en,d as Ge,a as Ve,k as te,c as je,b as Ke,s as qe,e as Qe,g as Je,i as Xe,m as Ye,n as Ze,o as et,q as he,t as H,v as i,w as me,x as tn,y as tt,z as h,B as g,A as nn,G as rn,H as nt,I as ne,J as rt,K as sn,L as on,M as re,N as an,O as I,W as ln,Q as fe,S as cn,U as st,X as un,Y as ot,Z as M,_ as dn,$ as se,a0 as pn,a1 as at,a2 as lt,a3 as N,a4 as C,a5 as xe,a6 as hn,a7 as L,a8 as mn,a9 as fn,aa as xn,ab as it,ac as gn,ad as ct,ae as ut,af as yn,ag as dt,ah as bn,ai as vn,aj as Sn,ak as kn,al as wn,am as Cn,an as En,ao as pt,ap as Tn,aq as oe,ar as In,as as Fn,at as ht,au as An,av as mt,aw as Dn,ax as On,ay as $n,az as Mn,aA as Rn,aB as Ln,aC as _n,aD as Nn,aE as Pn,aF as Bn,aG as zn,aH as Un,aI as Wn,aJ as Hn,aK as Gn,aL as Vn,aM as jn,aN as Kn,aO as ft,aP as xt,aQ as qn,aR as Qn,aS as Jn,aT as Xn,aU as Yn,aV as gt,aW as Zn,aX as er,aY as tr,aZ as nr,a_ as rr,a$ as sr,b0 as or,b1 as ar,b2 as lr,b3 as ir,b4 as cr,b5 as ur,b6 as dr}from"./vendor.8c5d0715.js";const pr=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};pr();const hr="HELLO",mr=()=>({type:hr,remote:!0}),yt="SET_INFO",fr="PAUSE",xr="SET_TITLE",gr="SET_THEME",bt="SET_FRAMES",yr="GET_FILE",br=e=>({type:yr,filename:e,remote:!0}),vt="DO_COMMAND",ge=e=>({type:vt,command:e,remote:!0}),vr="SET_FILE",St="SET_ACTIVE_FRAME",ye=e=>({type:St,key:e}),be="SET_PROMPT",kt=(e,t,r,s)=>({type:be,key:e,prompt:t,command:r,frame:s,remote:!0}),wt="REMOVE_PROMPT_ANSWER",Sr=e=>({type:wt,key:e}),Ct="SET_CONNECTION_STATE",Et=e=>({type:Ct,state:e}),Tt="REQUEST_INSPECT",kr=(e,t)=>({type:Tt,key:e,id:t,remote:!0}),ve="REQUEST_INSPECT_EVAL",wr=(e,t,r,s)=>({type:ve,key:e,prompt:t,command:r,frame:s,remote:!0}),Se="REQUEST_DIFF_EVAL",Cr=(e,t,r,s,o)=>({type:Se,key:e,left:t,right:r,command:s,frame:o,remote:!0}),Er="SET_ANSWER",It="CLEAR_SCROLLBACK",Tr=()=>({type:It}),Ir="REQUEST_SUGGESTION",Fr=(e,t,r,s,o)=>({type:Ir,prompt:e,from:t,to:r,cursor:s,frame:o,remote:!0}),Ar="SET_SUGGESTION",Dr="CLEAR_SUGGESTION";var Or="/assets/FiraCode-Bold.38f445df.otf",$r="/assets/FiraCode-Regular.825cd631.otf";function Mr({sx:e}){const t=w(o=>o.loadingLevel),r=w(o=>o.connection.state),s=r==="closed"||r==="open"&&t===0;return n(qt,{elevation:4,sx:[{alignSelf:"center"},...Array.isArray(e)?e:[e]],children:n(W,{title:`${t} pending request${t>1?"s":""}.`,children:n(Qt,{sx:o=>({m:1,transition:o.transitions.create(["color"],{easing:o.transitions.easing.sharp,duration:o.transitions.duration.standard}),color:{connecting:Ue[200],closed:We[900]}[r]}),variant:s?"determinate":void 0,value:s?100:void 0})})})}const Rr=.2,ae=.8,Lr=.5,_r=B.baseTheme({"& .cm-context-top":{borderTop:`1px solid rgba(0, 0, 0, ${ae})`},"& .cm-context-bottom":{borderBottom:`1px solid rgba(0, 0, 0, ${ae})`},"& .cm-context":{backgroundColor:`rgba(0, 0, 0, ${Rr})`,borderRight:`1px solid rgba(0, 0, 0, ${ae})`,borderLeft:`1px solid rgba(0, 0, 0, ${ae})`},"& .cm-context-active":{backgroundColor:`rgba(0, 0, 0, ${Lr})`}}),Ft=Jt.define({combine:e=>e.reduce((t,r)=>({active:r.active,first:Math.min(r.first,t.first),last:Math.max(r.last,t.last)}),{active:0,first:1/0,last:0})}),Nr=ee.line({attributes:{class:"cm-context-active"}}),Pr=ee.line({attributes:{class:"cm-context"}}),Br=ee.line({attributes:{class:"cm-context-top"}}),zr=ee.line({attributes:{class:"cm-context-bottom"}});function At(e){let{active:t,first:r,last:s}=e.state.facet(Ft),o=new Yt;for(let{from:a,to:p}of e.visibleRanges)for(let l=a;l<=p;){let c=e.state.doc.lineAt(l);c.number>=r&&c.number<=s&&(o.add(c.from,c.from,Pr),c.number===r&&o.add(c.from,c.from,Br),c.number===s&&o.add(c.from,c.from,zr)),c.number===t&&o.add(c.from,c.from,Nr),l=c.to+1}return o.finish()}const Ur=Xt.fromClass(class{constructor(e){this.decorations=At(e)}update(e){this.decorations=At(e.view)}},{decorations:e=>e.decorations});function Wr({active:e,first:t,last:r}){return[_r,Ft.of({active:e,first:t,last:r}),Ur]}const Dt=B.theme({"& .cm-lineWrapping":{wordBreak:"break-all"}}),Hr=B.theme({"&,& .cm-content":{fontFamily:'"Fira Code", monospace'}}),Gr=[Zt(),He(),en(),Ge(),Ve(),te.of([...je,...Ke,...qe,...Qe,...Je,...Xe,...Ye,...Ze]),et.readOnly.of(!0),B.lineWrapping,Dt,Hr,he()];var Vr=function({currentFile:t,className:r}){const s=H(),o=w(b=>b.files),{absoluteFilename:a,lineNumber:p,firstFunctionLineNumber:l,lastFunctionLineNumber:c}=t,u=i.exports.useRef(),f=o[a];i.exports.useEffect(()=>{a&&typeof f=="undefined"&&s(br(a))},[s,o,a,f]);const m=i.exports.useMemo(()=>[...Gr,Wr({active:p,first:l,last:c})],[p,l,c]);return i.exports.useEffect(()=>{var b;if(f&&((b=u.current)==null?void 0:b.view)){const F=f.split(`
`).slice(0,p-1).join(`
`).length,{view:x}=u.current;x.dispatch(x.state.update({effects:B.scrollIntoView(F,{y:"center"})}))}},[f,p]),n(me,{ref:u,style:{flex:1},editable:!1,basicSetup:!1,theme:tn,height:"100%",extensions:m,value:f})};const Ot=(e,t)=>{if(!t||!t.getBoundingClientRect)return null;const{x:r,y:s}=t.getBoundingClientRect(),o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY;return{x:o-r,y:a-s}};function jr({children:e,className:t,vertical:r}){const[s,o]=i.exports.useState(50),[a,p]=i.exports.useState(null),l=i.exports.useRef(),c=i.exports.useCallback(m=>{p(Ot(m,l.current))},[]),u=i.exports.useCallback(m=>{if(!a)return;const b=Ot(m,l.current);if(!b)return null;const{width:F,height:x}=l.current.getBoundingClientRect();o(Math.min(100,Math.max(0,(r?b.x/F:b.y/x)*100)))},[a,r]),f=i.exports.useCallback(()=>{p(null)},[]);return tt.Children.count(e)!==2||!tt.Children.map(e,m=>!!m).every(m=>m)?e:h(g,{ref:l,sx:{display:"flex",flex:1,minHeight:0,flexDirection:r?"row":"column"},onTouchMove:u,onMouseMove:u,onTouchEnd:f,onMouseUp:f,children:[n(g,{style:{[r?"width":"height"]:`${s}%`,display:"flex",minHeight:0,minWidth:0,overflow:"hidden"},children:e[0]}),n(nn,{onClickAway:f,children:n(g,{sx:m=>({backgroundColor:m.palette.text.primary,minWidth:"6px",minHeight:"6px",userSelect:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:r?"ew-resize":"ns-resize","&::before":{display:"block",content:"''",background:m.palette.background.paper,borderRadius:"15%",width:r?.5:.05,height:r?.05:.5}}),onTouchStart:c,onMouseDown:c})}),n(g,{style:{display:"flex",minHeight:0,minWidth:0,overflow:"hidden",flex:1},children:e[1]})]})}function Kr(e,t,r,s){const o=t.parser.parse(e);let a=0;rn(o,nt.match,(p,l,c)=>{p>a&&r(e.slice(a,p),null,a,p),r(e.slice(p,l),c,p,l),a=l}),a!==o.length&&r(e.slice(a,o.length),null,a,o.length)}const qr=he().language,Qr=null;var E=i.exports.forwardRef(function(c,l){var u=c,{sx:t,value:r="",mode:s="python",onClick:o,noBreak:a}=u,p=P(u,["sx","value","mode","onClick","noBreak"]);const[f,m]=i.exports.useState([[r,null,0]]);return i.exports.useEffect(()=>{const b={python:qr,diff:Qr}[s];!b||!r||(m([]),Kr(r,b,(F,x,S)=>{m(T=>[...T,[F,x,S]])}))},[s,r]),n(g,A(v({ref:l,component:"code",sx:[{fontFamily:'"Fira Code", monospace',whiteSpace:a?void 0:"pre-wrap",wordBreak:a||"break-all",overflowWrap:a||"break-word"},...Array.isArray(t)?t:[t]],onClick:o},p),{children:f.map(([b,F,x])=>n("span",{className:F,children:b},x))}))});const ke=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5),Jr=e=>{if(!e)return"";if(e<1e3)return`${e}ns`;if(e/=1e3,e<10)return`${e.toFixed(2)}\u03BCs`;if(e<100)return`${e.toFixed(1)}\u03BCs`;if(e<1e3)return`${e.toFixed(0)}\u03BCs`;if(e/=1e3,e<10)return`${e.toFixed(2)}ms`;if(e<100)return`${e.toFixed(1)}ms`;if(e<1e3)return`${e.toFixed(0)}ms`;if(e/=1e3,e<10)return`${e.toFixed(2)}s`;if(e<60)return`${e.toFixed(1)}s`;const t=a=>(a=a.toString(),a.length===1?`0${a}`:a);let r=Math.floor(e/60);const s=(e-60*r).toFixed(0);if(r<60)return`${r}m${t(s)}s`;const o=Math.floor(r/60);return r=(r-60*o).toFixed(0),`${o}h${t(r)}m${t(s)}s`},Xr=e=>{if(!e)return;const{top:t,bottom:r}=e.getBoundingClientRect();t<0?e.scrollIntoView():r>window.innerHeight&&e.scrollIntoView(!1)};function Yr({diff:e}){return n(E,{value:e,mode:"diff"})}function Zr({text:e}){return n(E,{sx:{color:We[400]},value:e,mode:"text"})}function K(a){var p=a,{id:e,type:t="button",children:r,sx:s}=p,o=P(p,["id","type","children","sx"]);const l=H(),c=i.exports.useCallback(()=>{l(kr(ke(),e))},[l,e]);return n(t==="chip"?ne:rt,A(v({onClick:c,sx:[t==="button"?{minWidth:"auto",textTransform:"none",padding:0,backgroundColor:"rgba(0, 0, 0, 0.02)",display:"inline"}:{},...Array.isArray(s)?s:[s]],component:"a",color:"neutral"},o),{children:r}))}function es({id:e,name:t,description:r,subtype:s,traceback:o,expanded:a,i:p,onChange:l}){const c=i.exports.useCallback(()=>{l(a?null:p)},[p,a,l]);return h(sn,{expanded:a,onChange:c,children:[n(on,{expandIcon:n(re,{}),sx:{alignItems:"center"},children:h(an,{container:!0,direction:"row",alignItems:"center",children:[n(I,{sx:{color:"error.main",p:1,pb:0},children:n(ln,{})}),s!=="root"&&n(I,{color:"textSecondary",sx:{p:1,pb:0},children:s==="cause"?"Caused by":"Issued from"}),h(K,{id:e,sx:{pt:.6,flex:1},children:[n(I,{variant:"h6",component:"span",children:n(E,{value:t,mode:"text"})}),n(I,{variant:"subtitle1",component:"span",children:n(E,{value:" \u2015 ",mode:"text"})}),n(I,{component:"span",children:n(E,{value:r,mode:"text"})})]})]})}),n(fe,{}),n(cn,{children:n(st,{children:o.map((u,f)=>n(un,{divider:f!==o.length-1,children:n(ot,{primary:h(M,{children:[h(I,{display:"inline",color:"textSecondary",children:[" ","In"," "]}),n(I,{display:"inline",children:u.function}),h(I,{display:"inline",color:"textSecondary",children:[" ","at line"," "]}),n(I,{display:"inline",children:u.lineNumber}),h(I,{display:"inline",color:"textSecondary",children:[" ","of"," "]}),n(W,{title:u.absoluteFilename,children:n(I,{display:"inline",children:u.filename})})]}),secondary:n(E,{value:u.lineSource||"?"})})},u.key))})})]})}function ts(r){var s=r,{causes:e}=s,t=P(s,["causes"]);const[o,a]=i.exports.useState(0),p=[t,...e||[]];return n(M,{children:p.map((l,c)=>n(es,v({i:c,expanded:o===c,onChange:a},l),l.id))})}const $t="1em",le="3px";function Mt({cls:{id:e,name:t,bases:r},first:s,last:o,root:a}){return h(g,{sx:{display:"flex",alignItems:"center"},children:[!a&&h(g,{sx:{display:"flex",flexDirection:"column",width:$t,alignSelf:"normal"},children:[n(g,{sx:{flex:1,borderLeft:s?"none":`${le} solid black`,borderBottom:`${le} solid black`}}),n(g,{sx:{flex:1,borderLeft:s?"none":`${le} solid black`}})]}),n(g,{sx:{m:.5},children:n(K,{id:e,type:"chip",label:t,color:["object","type"].includes(t)?void 0:"secondary"})}),!!r.length&&n(g,{sx:{borderBottom:`${le} solid black`,width:$t}}),n(g,{sx:{display:"flex",flexDirection:"column"},children:r.map((p,l)=>n(Mt,{cls:p,first:l===0,last:l===r.length-1},p.id))})]})}function Rt({id:e,value:t}){return n(K,{id:e,children:n(E,{value:t})})}function ns({attributes:e,doc:t,source:r,infos:s}){const[o,a]=i.exports.useState(0),p=i.exports.useCallback((l,c)=>a(c),[a]);return h(g,{children:[h(dn,{value:o,onChange:p,indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",children:[n(se,{label:"infos",value:0}),Object.entries(e).sort(()=>1).map(([l],c)=>n(se,{label:l,value:c+1},l)),t&&n(se,{label:"documentation",value:Object.keys(e).length+1}),r&&n(se,{label:"source",value:Object.keys(e).length+2})]}),h(pn,{axis:"x",index:o,onChangeIndex:a,children:[n(g,{sx:{maxHeight:"400px"},children:n(at,{children:h(lt,{children:[s.type?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Type"}),n(C,{children:n(ne,{label:s.type,sx:{m:.5}})})]}):null,s.bases?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Bases"}),n(C,{children:n(Mt,{cls:s.bases,root:!0})})]}):null,s.mro?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"MRO"}),n(C,{children:s.mro.map(({id:l,type:c})=>n(K,{id:l,type:"chip",label:c.trim(),sx:{m:.5},color:["object","type"].includes(c)?void 0:"secondary"},c))})]}):null,s.signature?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Signature"}),n(C,{children:n(E,{value:s.signature})})]}):null,s.fqn?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Full Qualified Name"}),n(C,{children:s.fqn})]}):null,h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Identity"}),h(C,{children:[s.id," (0x",s.id.toString(16),")"]})]}),s.online_doc?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Online documentation"}),n(C,{children:h(xe,{href:s.online_doc,target:"_blank",rel:"noopener noreferrer",children:[s.fqn||s.type," ",n(hn,{fontSize:"small"})]})})]}):null,s.file?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Declared in file"}),h(C,{children:[s.file,s.source_size?` (${s.source_size} lines)`:""]})]}):null,s.comments?h(N,{children:[n(C,{sx:{wordBreak:"normal"},align:"right",children:"Comments"}),n(C,{children:n(E,{value:s.comments,mode:"text"})})]}):null]})})}),Object.entries(e).map(([l,c])=>n(g,{sx:{maxHeight:"400px"},children:n(at,{children:n(lt,{children:c.map(({key:u,value:f,id:m,signature:b})=>h(N,{children:[h(C,{sx:{wordBreak:"normal"},align:"right",children:[u,n(g,{component:"span",sx:{color:"text.secondary"},children:b})]}),n(C,{children:n(Rt,{value:f,id:m})})]},u))})})},l)),n(g,{sx:{p:3,fontSize:".7em",maxHeight:"400px"},children:n(E,{value:t,mode:"text"})}),n(g,{sx:{p:3,fontSize:".9em",maxHeight:"400px"},children:n(E,{value:r})})]})]})}function Lt({subtype:e,values:t,id:r,mapping:s}){const o=Math.max(Math.min(50,t.length/5),20),a=Math.min(t.length,o),[p,l]=i.exports.useState(!0),[c,u]=i.exports.useState(a),f=i.exports.useCallback(()=>u(D=>Math.min(t.length,D+o)),[o,t.length]),m=i.exports.useCallback(()=>u(D=>D===0?a:0),[a]),b=i.exports.useCallback(()=>u(t.length),[t.length]),F=i.exports.useCallback(()=>l(D=>!D),[]),x={list:"[",set:"{",tuple:"(",dict:"{"}[e]||`${e}(${s?"{":"["}`,S={list:"]",set:"}",tuple:")",dict:"}"}[e]||`${s?"}":"]"})`,T=t.slice(0,c);return h(g,{sx:{m:1,p:1,transition:"250ms ease-in-out box-shadow","&:hover":{boxShadow:"0 0 5px rgba(0, 0, 0, .125)"}},children:[!!t.length&&h(I,{sx:{fontSize:"0.7em",fontStyle:"italic"},color:"textSecondary",component:"span",children:["(",t.length,")"," "]}),n(K,{id:r,children:n(E,{mode:"text",value:x})}),!!t.length&&n(L,{onClick:m,sx:{p:.5},size:"large",children:c===0?n(mn,{sx:{fontSize:"16px"}}):n(fn,{sx:{fontSize:"16px"}})}),h(g,{component:"section",sx:{pl:p&&T.length>1?1:void 0,display:p&&T.length>1?void 0:"inline"},children:[T.map((D,j)=>h(g,{component:"span",sx:{whiteSpace:"pre"},children:[s?h(M,{children:[n(ie,v({},D.key)),n(E,{mode:"text",value:": "}),n(ie,v({},D.value))]}):n(ie,v({},D)),j+1!==t.length&&n(E,{mode:"text",value:", "}),p&&T.length>1&&n("br",{})]},`member-${r}-${j}`)),t.length>T.length&&h(g,{component:"span",sx:{whiteSpace:"pre"},children:[n(L,{onClick:f,sx:{p:.5},size:"large",children:n(xn,{sx:{fontSize:"16px"}})}),h(rt,{sx:{color:"text.secondary"},size:"small",component:"span",onClick:f,children:[t.length-T.length," more"]}),t.length>T.length+o&&n(L,{onClick:b,sx:{p:.5},size:"large",children:n(it,{sx:{fontSize:"16px"}})})]})]}),h(K,{id:r,children:[t.length===1&&x==="("&&n(E,{mode:"text",value:","}),n(E,{mode:"text",value:S})]}),T.length>1&&n(L,{onClick:F,sx:{p:.5},size:"large",children:p?n(gn,{sx:{fontSize:"16px"}}):n(re,{sx:{fontSize:"16px"}})})]})}function rs(e){return n(Lt,v({mapping:!0},e))}function ss({text:e}){return n(E,{value:e,mode:"text"})}const os={out:ss,err:Zr,obj:Rt,diff:Yr,inspect:ns,iterable:Lt,mapping:rs,exception:ts};function ie(r){var s=r,{type:e}=s,t=P(s,["type"]);const o=os[e];return n(o,v({},t))}var as=i.exports.memo(function({uid:t,answer:r,duration:s,prompt:o,command:a,frame:p}){const l=H(),[c,u]=i.exports.useState(!0),m=w(S=>S.frames).find(({key:S})=>S===p),b=i.exports.useCallback(()=>u(S=>!S),[]),F=i.exports.useCallback(()=>l(ye(p)),[l,p]),x=i.exports.useCallback(()=>{l(Sr(t))},[l,t]);return h(ct,{sx:{m:1,display:"flex",flexDirection:"column"},children:[n(ut,{sx:{".MuiCardHeader-content":{minWidth:0}},avatar:h(M,{children:[n(L,{sx:S=>({transform:`rotate(${c?180:0}deg)`,marginLeft:"auto",transition:S.transitions.create("transform",{duration:S.transitions.duration.shortest})}),onClick:b,size:"small",children:n(re,{})}),a&&n(ne,{label:a})]}),title:n(W,{title:o,children:n(E,{sx:{p:.5},value:o,noBreak:!0})}),titleTypographyProps:{variant:"h5",noWrap:!0},action:h(M,{children:[n(W,{title:m?`${m.absoluteFilename}:${m.lineNumber}`:"?",children:n(L,{onClick:F,size:"large",children:n(yn,{})})}),n(L,{onClick:x,size:"large",children:n(dt,{})})]})}),!!(r&&r.length)&&h(M,{children:[n(fe,{}),n(bn,{in:c,timeout:"auto",unmountOnExit:!0,children:h(vn,{sx:{display:"flex"},children:[n(I,{variant:"body1",sx:{minWidth:0,px:2,py:0,flex:1},component:"div",children:r.map((S,T)=>n(ie,v({},S),T))}),s&&n(E,{value:Jr(s)})]})})]})]})});function ls(e,t){switch(console.log(t.type),t.type){case"search":return A(v({},e),{value:"",reverse:t.reverse,insensitive:t.insensitive,index:t.index});case"found":return A(v({},e),{value:t.value,notFound:!1,highlight:t.highlight,index:t.index});case"empty":return A(v({},e),{value:"",notFound:!1,highlight:null,index:0});case"not-found":return A(v({},e),{value:t.value,notFound:!0,highlight:null});case"reset":return{value:null,insensitive:!1,reverse:!1,notFound:!1,highlight:null,index:0};default:throw new Error}}const is={value:null,reverse:!1,insensitive:!1,notFound:!1,highlight:null,index:0},we=(e,...t)=>{let r="",s="",o=!1;for(;e.i<e.str.length&&!(t.includes(e.str[e.i])&&!s&&!o);)s&&e.str[e.i]===s?s="":!s&&!o&&["'",'"'].includes(e.str[e.i])&&(s=e.str[e.i]),!o&&!s&&e.str[e.i]==="#"&&(o=!0),o&&e.str[e.i]===`
`&&(o=!1),e.str[e.i]==="\\"&&(o||(r+=e.str[e.i]),e.i++),o||(r+=e.str[e.i]),e.i++;return r},_t=e=>{let t=[];if(e.str[e.i]==="("){let r=e.str[e.i];for(e.i++;e.i<e.str.length&&e.str[e.i]!==")";)if(e.str[e.i]==="(")t=[...t,..._t(e)],r+=t.slice(-1)[0];else{const s=we(e,"(",",",")");r+=s,s.trim()&&t.push(s.trim()),e.str[e.i]===","&&(r+=e.str[e.i],e.i++)}e.str[e.i]===")"&&(r+=e.str[e.i],e.i++),t.push(r)}return t},cs=(e,t)=>{let r=[];const s={str:e,i:t||0};for(;s.i<s.str.length;)we(s,"("),r=[...r,..._t(s)],s.i++;return r},us=e=>{const t={str:e,i:0};return[we(t,"?").trim(),e.slice(t.i+1).trim()]},ce={i:"inspect",d:"diff"};function ds(e,t){const r=(()=>{switch(t.type){case"new-value":return A(v({},e),{index:-1,value:t.value,transientValue:t.value,passive:!1});case"handle-up":return A(v({},e),{index:Math.min(e.index+1,t.history.length-1),value:t.history[Math.min(e.index+1,t.history.length-1)]||"",command:null,passive:!0});case"handle-down":return A(v({},e),{index:Math.max(e.index-1,-1),value:t.history[Math.max(e.index-1,-1)]||e.transientValue,command:null,passive:!0});case"jump":return A(v({},e),{index:t.index,value:t.value,command:null,passive:!0});case"toggle-command":return A(v({},e),{command:e.command===t.command?null:t.command});case"remove-command":return A(v({},e),{command:null});case"reset":return{index:-1,value:"",transientValue:"",command:null,passive:!0};default:throw new Error}})();if(r.value){const s=r.value.match(/^\?(\S+)\s(.*)/);if(s){const[,o,a]=s,p=ce[o]||o,l=Object.values(ce).includes(p)?p:null;l&&(r.value=a,r.command=l)}}return r}const ps={index:-1,value:"",transientValue:"",command:null,passive:!0},hs={module:"namespace",class:"class",instance:"variable",function:"function",param:"interface",path:"text",keyword:"keyword",property:"property",statement:"constant"},ms=e=>({token:t=>{e.lastIndex=t.pos;const r=e.exec(t.string);if(r&&r.index===t.pos)return t.pos+=r[0].length||1,"searching";r?t.pos=r.index:t.skipToEnd()}}),fs=B.theme({"&,& .cm-content, & .cm-tooltip.cm-tooltip-autocomplete > ul ":{fontFamily:'"Fira Code", monospace'},"&.cm-editor.cm-focused":{outline:"none"},"& .cm-tooltip":{fontSize:"0.75em"}}),xs=B.theme({"& .cm-cursor":{width:"12px",border:"none",outline:"1px solid rgba(0, 0, 0, .5)",display:"block"},"&.cm-focused .cm-cursor":{background:"rgba(0, 0, 0, .75)",animation:"blink 1.5s ease-in-out infinite",outline:0}}),Nt=[He(),Sn(),Ge(),kn(),et.allowMultipleSelections.of(!0),wn(),nt.fallback,Cn(),En(),pt(),Tn(),Ve(),B.lineWrapping,Dt,fs,te.of([...je,...Ke,...qe,...Qe,...Je,...Xe,...Ye,...Ze]),he()];var gs=function({onScrollUp:t,onScrollDown:r,scrollToBottom:s}){const o=i.exports.useRef(),a=w(d=>d.history),p=w(d=>d.scrollback),l=w(d=>d.activeFrame),c=H(),[u,f]=i.exports.useReducer(ds,ps),[m,b]=i.exports.useReducer(ls,is);i.exports.useEffect(()=>{const d=({keyCode:k})=>{if(k!==13)return;const O=getSelection().toString();if(O){const $=ke();c(kt($,O,null,l))}},y=({key:k})=>{var O;if((O=o.current)==null?void 0:O.view){const{view:$}=o.current;if($.hasFocus)return;(k.length===1||k==="Spacebar")&&$.dispatch($.state.replaceSelection(k==="Spacebar"?" ":k)),$.focus()}};return window.addEventListener("keydown",d),window.addEventListener("keyup",y),()=>{window.removeEventListener("keydown",d),window.removeEventListener("keyup",y)}},[l,c]);const F=i.exports.useCallback((d,y)=>{y.selectionSet&&f({type:"new-value",value:d})},[]),x=i.exports.useMemo(()=>Object.entries(ce).reduce((d,[y,k])=>(d[y]=()=>f({type:"toggle-command",command:k}),d),{}),[f]),S=i.exports.useCallback(d=>{if(d.state&&oe(d.state)==="active")return!1;if(!u.value)return!0;const y=ke();switch(u.command){case"inspect":c(wr(y,u.value,u.command,l));break;case"diff":c(Cr(y,...us(u.value),u.command,l));break;default:c(kt(y,u.value,u.command,l))}return f({type:"reset"}),!0},[l,c,u.command,u.value]),T=i.exports.useCallback(d=>oe(d.state)==="active"?!1:(f({type:"handle-up",history:a}),!0),[a]),D=i.exports.useCallback(d=>oe(d.state)==="active"?!1:(f({type:"handle-down",history:a}),!0),[a]),j=i.exports.useCallback(()=>{o.current&&o.current.view.focus()},[o]),Ce=i.exports.useCallback(d=>{if(d.state.selection.main.head===0&&u.command)return f({type:"remove-command"}),!0},[u]),Ut=i.exports.useCallback(()=>(f({type:"remove-command"}),!0),[]),Ee=i.exports.useCallback(d=>{d.state.selection.main.from!==d.state.selection.main.to?window.document.execCommand("copy"):f({type:"reset"})},[]),Te=i.exports.useCallback(()=>{if(!u.value)return c(ge("kill")),!0},[c,u.value]),Ie=i.exports.useCallback(()=>(c(Tr()),!0),[c]),de=i.exports.useCallback((d,y,k=null)=>{if(y&&!y.selectionSet)return;if(!d){b({type:"empty"});return}const O=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),`g${m.insensitive?"i":""}`);k=k===null?m.index:k;const z=(m.reverse?a.slice(k):[...a].sort(()=>-1).slice(a.length-k-1)).findIndex(U=>U&&U.match(O));if(z===-1){b({type:"not-found",value:d});return}const R=m.reverse?k+z:k-z;b({type:"found",value:d,highlight:ms(O),index:R}),f({type:"jump",index:R,value:a[R]})},[a,m]),_=i.exports.useCallback(d=>()=>{const y=d.reset?d.reverse?u.index===-1?0:u.index:u.index===-1?a.length-1:u.index:d.reverse?m.index+1:m.index-1;return b({type:"search",reverse:d.reverse||!1,insensitive:d.insensitive||!1,reset:d.reset||!1,history:a,index:y}),de(m.value,null,y),!0},[de,a,u.index,m.index,m.value]),J=i.exports.useCallback(()=>{b({type:"reset"}),o.current&&o.current.view.focus()},[o]),[q,Fe]=i.exports.useState(null),X=i.exports.useCallback((d,y)=>{const k=a.reduce((U,pe)=>[...U,...cs(pe)],[]),O=y==="up"?0:a.length-1,$=q!==null&&(y==="up"?q+1:q-1),z=d.state.selection.main.from===d.state.selection.main.to||q===null?O:$,R=k[z];R?(d.dispatch(d.state.replaceSelection(R)),d.dispatch({selection:{anchor:d.state.selection.main.head-R.length,head:d.state.selection.main.head}}),Fe(z)):d.dispatch(d.state.replaceSelection(""))},[a,q,Fe]),Ae=i.exports.useCallback(d=>{X(d,"up")},[X]),De=i.exports.useCallback(d=>{X(d,"down")},[X]),Oe=i.exports.useCallback(async d=>{let y=d.matchBefore(/\w*/);if(y.from===y.to&&!d.explicit)return null;const k=d.state.doc.lineAt(d.state.selection.main.head),O=d.state.doc.lineAt(y.from),$=d.state.doc.lineAt(y.to),z={line:k.number-1,ch:d.state.selection.main.head-k.from},R={line:O.number-1,ch:y.from-O.from},U={line:$.number-1,ch:y.to-$.from};if(!u.value.includes(" ")&&u.value.startsWith("?"))return{from:y.from,options:Object.values(ce).map(G=>({label:`?${G}`,type:"namespace"}))};c(Fr(u.value,R,U,z,l));const pe=await Promise.race([new Promise(G=>setTimeout(()=>G([]),5e3)),new Promise(G=>{const Re=Q.subscribe((...Le)=>{const{suggestions:{prompt:Y,from:_e,to:Ne,suggestion:Gt}}=Q.getState();Y===u.value&&R.line===_e.line&&R.ch===_e.ch&&U.line===Ne.line&&U.ch===Ne.ch&&(G(Gt.list),Re())})})]);return{from:y.from,options:pe.map(({text:G,description:Re,docstring:Le,type:Y})=>({label:G,info:Le,type:hs[Y]||Y}))}},[l,c,u.value]),$e=i.exports.useCallback(d=>{const y=d.state.selection.main.head;return u.value.slice(0,y).split(`
`).slice(-1)[0].match(/^\s*$/)?!1:(oe(d.state)==="active"?In(d):Fn(d),!0)},[u.value]),Me=p.length===0||p.slice(-1)[0].answer!==null,Wt=i.exports.useMemo(()=>[ht.highest(te.of([{key:"ArrowUp",run:T,preventDefault:!0},{key:"ArrowDown",run:D,preventDefault:!0},{key:"Enter",run:S,preventDefault:!0},{key:"Backspace",run:Ce,preventDefault:!0},{key:"Tab",run:$e,preventDefault:!0},{key:"Ctrl-c",run:Ee,preventDefault:!0},{key:"Ctrl-d",run:Te,preventDefault:!0},{key:"Ctrl-l",run:Ie,preventDefault:!0},{key:"Ctrl-r",run:_({reverse:!0,reset:!0}),preventDefault:!0},{key:"Ctrl-s",run:_({reset:!0}),preventDefault:!0},{key:"Shift-Ctrl-r",run:_({reverse:!0,insensitive:!0,reset:!0}),preventDefault:!0},{key:"Shift-Ctrl-s",run:_({insensitive:!0,reset:!0}),preventDefault:!0},{key:"Shift-PageUp",run:t,preventDefault:!0},{key:"Shift-PageDown",run:r,preventDefault:!0},{key:"Alt-ArrowUp",run:Ae,preventDefault:!0},{key:"Alt-ArrowDown",run:De,preventDefault:!0},{key:"Alt-i",run:x.i,preventDefault:!0},{key:"Alt-d",run:x.d,preventDefault:!0}])),pt({override:[Oe]}),xs,...Nt],[Oe,Ce,Ie,x.d,x.i,Te,D,S,De,Ae,Ee,_,$e,T,r,t]),Ht=i.exports.useMemo(()=>[B.domEventHandlers({blur:J}),ht.highest(te.of([{key:"Enter",run:J,preventDefault:!0},{key:"Escape",run:J,preventDefault:!0},{key:"Ctrl-r",run:_({reverse:!0}),preventDefault:!0},{key:"Ctrl-s",run:_({}),preventDefault:!0},{key:"Shift-Ctrl-r",run:_({reverse:!0,insensitive:!0}),preventDefault:!0},{key:"Shift-Ctrl-s",run:_({insensitive:!0}),preventDefault:!0}])),...Nt],[_,J]);return i.exports.useEffect(()=>{var d;if(((d=o.current)==null?void 0:d.view)&&u.passive){const{view:y}=o.current;y.dispatch({selection:{anchor:u.value.length}})}},[u.value,u.passive]),n(An,{in:Me,exit:!1,mountOnEnter:!0,unmountOnExit:!0,onEntered:j,children:n(ct,{raised:!0,sx:{m:1},children:n(ut,{avatar:h(M,{children:[n(L,{sx:d=>({transform:`rotate(${Me?270:0}deg)`,marginLeft:"auto",transition:d.transitions.create("transform",{duration:d.transitions.duration.shortest})}),onClick:S,size:"small",children:n(re,{})}),u.command&&n(ne,{label:u.command,onDelete:Ut})]}),title:h(M,{children:[n(me,{ref:o,value:u.value,basicSetup:!1,theme:"light",onChange:F,height:"auto",extensions:Wt,width:"100%",onUpdate:s}),m.value!==null&&h(g,{component:"label",sx:{fontSize:".5em",color:m.notFound?"error.main":"text.secondary",display:"flex",alignItems:"center"},children:[h(g,{component:"span",sx:{px:0,py:.5},children:[m.insensitive&&"I-","Search"," ",m.reverse?"backward":"forward",":"]}),n(me,{value:m.value,height:"auto",autoFocus:!0,basicSetup:!1,extensions:Ht,width:"100%",onChange:de})]})]}),titleTypographyProps:{variant:"h5"}})})})},ys=function({className:t}){const r=w(l=>l.scrollback),s=i.exports.useRef(),o=i.exports.useCallback(()=>{s.current.scrollTop-=300},[s]),a=i.exports.useCallback(()=>{s.current.scrollTop+=300},[s]),p=i.exports.useCallback(()=>{s.current.scrollTop=s.current.scrollHeight},[]);return h(g,{sx:{flex:1,overflowY:"auto",scrollBehavior:"smooth"},ref:s,children:[r.map(u=>{var f=u,{key:l}=f,c=P(f,["key"]);return n(as,v({uid:l},c),l)}),n(gs,{onScrollUp:o,onScrollDown:a,scrollToBottom:p})]})};function bs(){const e=mt("(min-aspect-ratio: 1/1)"),t=w(o=>o.frames),r=w(o=>o.activeFrame),s=t.find(({key:o})=>o===r);return h(g,{component:"main",sx:o=>({flexGrow:1,display:"flex",flexDirection:"column",zIndex:o.zIndex.drawer+1,minWidth:0}),children:[n(g,{sx:o=>o.mixins.toolbar}),h(jr,{vertical:e,children:[s&&n(Vr,{currentFile:s}),n(ys,{})]})]})}var vs=i.exports.memo(function({frame:t,last:r}){const s=w(p=>p.activeFrame),o=H(),a=i.exports.useCallback(()=>{o(ye(t.key))},[o,t.key]);return h(Dn,{divider:!r,selected:t.key===s,onClick:a,children:[n(ot,{primary:t.function,secondary:h(M,{children:[n(E,{value:t.lineSource}),n(W,{title:t.absoluteFilename,children:h(I,{variant:"body2",display:"block",component:"span",noWrap:!0,children:[t.filename,":",t.lineNumber]})})]})}),n(On,{children:t.active&&n(W,{title:"Current Frame",children:n("div",{children:n($n,{fontSize:"small"})})})})]})});function Ss(){const e=w(o=>o.frames),t=w(o=>o.activeFrame),r=i.exports.useRef(),s=H();return i.exports.useEffect(()=>{e.length&&s(ye(e[0].key))},[s,e]),i.exports.useEffect(()=>{if(r.current){const o=r.current.querySelectorAll(".Mui-selected");o.length&&Xr(o[0])}},[t]),n(st,{ref:r,sx:{p:0},children:e.map((o,a)=>n(vs,{frame:o,last:a===e.length-1},o.key))})}const ue=240;function ks({rtl:e,open:t,mobile:r,onDrawerClose:s}){return h(Mn,{sx:o=>({width:{sm:ue,md:t?ue:0},"& .MuiPaper-root":{width:{sm:ue,md:t?ue:0}},flexShrink:{sm:0,md:null},transition:o.transitions.create("width",{easing:o.transitions.easing.sharp,duration:o.transitions.duration[t?"enteringScreen":"leavingScreen"]}),overflow:t?void 0:"hidden"}),open:t,variant:r?"temporary":"persistent",anchor:e?"right":"left",onClose:s,children:[n(g,{sx:o=>A(v({},o.mixins.toolbar),{display:"flex"}),children:h(g,{sx:{p:1,display:"flex",alignItems:"baseline",width:"100%",justifyContent:"space-around"},children:[n(xe,{href:"http://github.com/paradoxxxzero/kalong/",underline:"hover",children:h(I,{variant:"h1",sx:{fontSize:"2.25em","&:hover span":{display:"inline-block","&.K":{transform:"rotate3d(0, 0, 1, -90deg) translate(-8.5px, 0px)",textDecoration:"none"},"&.o":{transform:"rotate3d(0, 1, 0, 180deg)",textDecoration:"underline"},transformOrigin:"center"}},children:[n(g,{component:"span",className:"K",sx:{transform:"rotate3d(0, 1, 0, 0deg)",transition:"transform 500ms",marginLeft:"-1px"},children:"K"}),"al",n(g,{component:"span",className:"o",sx:{transform:"rotate3d(0, 1, 0, 0deg)",transition:"transform 500ms",marginLeft:"-1px"},children:"o"}),"ng"]})}),n(xe,{href:"http://github.com/paradoxxxzero/kalong/releases",underline:"hover",children:n(I,{variant:"subtitle1",sx:{fontSize:"1.25em"},children:"v0.2.5"})})]})}),n(fe,{}),n(Ss,{})]})}const Pt=(e,t)=>[e?t?{label:"Pause the program",action:"pause",Icon:Rn,key:"F8",disabled:!1}:null:{label:"Continue the program",action:"continue",Icon:Ln,key:"F8",disabled:!1},{label:"Step to the next instruction",action:"step",Icon:_n,key:"F9",disabled:e},{label:"Step Until next line (bypass loops)",action:"stepUntil",Icon:Nn,key:"F10",disabled:e},{label:"Step Into function call",action:"stepInto",Icon:Pn,key:"F11",disabled:e},{label:"Step Out of the current function",action:"stepOut",Icon:Bn,key:"Shift+F11",disabled:e},{label:"Trace the program (stop at every exception)",action:"trace",Icon:zn,key:"Shift+F12",disabled:e},{label:"Run the program",action:"run",Icon:Un,key:"F12",disabled:e},{label:"StopDebugging",action:"stop",Icon:Wn,key:"Esc",disabled:e},{label:"Exit program",action:"kill",Icon:dt,key:"Shift+Esc",disabled:!1}].filter(r=>r),ws=({action:{label:e,action:t,disabled:r,Icon:s},handleCommand:o})=>h(Gn,{onClick:o,disabled:r,"data-action":t,children:[n(Vn,{children:n(s,{})}),n(I,{variant:"inherit",noWrap:!0,children:e})]}),Cs=({action:{key:e,label:t,action:r,disabled:s,Icon:o},handleCommand:a})=>n(W,{title:`${t} [${e}]`,children:n(L,{color:"inherit",onClick:a,disabled:s,"data-action":r,size:"large",children:n(o,{})})});var Es=function({mobile:t}){const r=w(x=>x.title),s=w(x=>x.frames),o=w(x=>x.running),a=w(x=>x.main),p=H(),[l,c]=i.exports.useState(null),u=i.exports.useCallback(x=>p(ge(x.currentTarget.getAttribute("data-action"))),[p]);i.exports.useEffect(()=>{const x=S=>{let{code:T}=S;S.shiftKey&&(T=`Shift+${T}`);const D=Pt(o).find(({key:j})=>T===j);!D||(p(ge(D.action)),S.preventDefault())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[o,p]);const f=i.exports.useCallback(()=>c(null),[]),m=i.exports.useCallback(({currentTarget:x})=>c(x),[]);i.exports.useLayoutEffect(()=>{!t&&l&&f()});const b=t?ws:Cs,F=Pt(o,a).map(x=>n(b,{action:x,handleCommand:u},x.action));return h(M,{children:[n(I,{variant:"h6",color:"inherit",noWrap:!0,children:r}),!!s.length&&h(M,{children:[n(g,{sx:{flexGrow:1}}),t?h(M,{children:[n(L,{onClick:m,size:"large",children:n(it,{})}),n(Hn,{anchorEl:l,open:!!l,onClose:f,children:F})]}):n(g,{sx:{whiteSpace:"pre"},children:F})]})]})};const Bt=240;function Ts({rtl:e,open:t,mobile:r,onDrawerOpen:s,onDrawerClose:o}){return n(jn,{sx:a=>({zIndex:a.zIndex.drawer+2,transition:`${a.transitions.create(["margin","width"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration[t&&!r?"enteringScreen":"leavingScreen"]})},${a.transitions.create(["background-color","color"],{easing:a.transitions.easing.easeInOut,duration:a.transitions.duration.normal})}`,width:t&&!r?`calc(100% - ${Bt}px)`:void 0,marginLeft:t&&!r?Bt:void 0}),position:"fixed",children:h(Kn,{children:[n(W,{title:`${t?"Close":"Open"} the call stack`,children:n(L,{color:"inherit",onClick:t?o:s,sx:{mr:2.5},size:"large",children:!r&&t?e?n(ft,{}):n(xt,{}):e?n(xt,{}):n(ft,{})})}),n(Es,{mobile:r})]})})}function Is(){const e=qn(),t=mt(e.breakpoints.down("md")),r=H(),s=w(u=>u.running),o=w(u=>u.frames),[a,p]=i.exports.useState(!t);i.exports.useEffect(()=>{r(mr())},[r]),i.exports.useEffect(()=>{p(!t&&!!o.length)},[t,o]);const l=i.exports.useCallback(()=>p(!0),[]),c=i.exports.useCallback(()=>p(!1),[]);return h(g,{sx:{display:"flex",width:"100vw",height:"100vh",justifyContent:"center",fontVariant:"oldstyle-nums",transition:"filter 500ms ease-in",filter:s?"grayscale(100%)":void 0},children:[n(Qn,{styles:{"@global":{"@font-face":[{fontFamily:"Fira Code",fontWeight:"normal",fontStyle:"normal",src:`url(${$r}) format("opentype")`},{fontFamily:"Fira Code",fontWeight:"bold",fontStyle:"normal",src:`url(${Or}) format("opentype")`}]}}}),n(Jn,{}),n(Ts,{mobile:t,open:a,rtl:e.direction==="rtl",onDrawerOpen:l,onDrawerClose:c}),n(ks,{mobile:t,open:a,rtl:e.direction==="rtl",onDrawerClose:c}),n(bs,{}),n(Mr,{sx:{position:"fixed",right:"1em",bottom:"1em"}})]})}const V=e=>Yn({palette:{action:{selectedOpacity:.15},primary:{main:e},secondary:{main:Ue.A400},neutral:{main:gt[700]}},mixins:{toolbar:{minHeight:56,"@media (min-width:600px)":{minHeight:64}}}}),zt={init:V(Xn[500]),line:V(Zn[600]),call:V(er[500]),return:V(tr[700]),exception:V(nr[500]),shell:V(rr[500]),dead:V(gt[600])};function Fs(){const e=w(t=>t.theme);return n(sr,{injectFirst:!0,children:n(or,{theme:zt[e]||zt.line,children:n(Is,{})})})}const As=(e={},t)=>{switch(t.type){case yt:return t.config;default:return e}},Ds=(e="Initializing",t)=>{switch(t.type){case xr:return t.title;default:return e}},Os=(e=[],t)=>{switch(t.type){case bt:return t.frames;default:return e}},$s=(e={},t)=>{switch(t.type){case vr:return A(v({},e),{[t.filename]:t.source});default:return e}},Ms=(e=null,t)=>{let r;switch(t.type){case bt:return r=t.frames.find(({active:s})=>s),r?r.key:e;case St:return t.key;default:return e}},Rs=(e=[],t)=>{switch(t.type){case be:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case wt:return e.filter(r=>t.key!==r.key);case Tt:return[...e,{key:t.key,prompt:`${t.id}\u2026`,answer:null}];case ve:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case Er:return e.map(r=>t.key===r.key?{key:t.key,prompt:t.prompt,command:t.command,answer:t.answer,frame:t.frame,duration:t.duration}:r);case Se:return[...e,{key:t.key,prompt:`${t.prompt}\u2026`,answer:null}];case It:return[];default:return e}},Ls=(e={state:"connecting"},t)=>{switch(t.type){case Ct:return A(v({},e),{state:t.state});default:return e}},_s=(e=0,t)=>t.remote?e+1:t.local?e-1:e,Ns=(e=!1,t)=>t.type===vt?!0:t.type===fr?!1:e,Ps=(e=[],t)=>{switch(t.type){case be:return[t.prompt,...e.filter(r=>r!==t.prompt)];case ve:return[`?i ${t.prompt}`,...e.filter(r=>r!==`?i ${t.prompt}`)];case Se:return[`?d ${t.left} ? ${t.right}`,...e.filter(r=>r!==`?d ${t.left} ? ${t.right}`)];default:return e}},Bs=(e={},t)=>{switch(t.type){case Ar:return{prompt:t.prompt,from:t.from,to:t.to,suggestion:t.suggestion};case Dr:return{};default:return e}},zs=(e="init",t)=>{switch(t.type){case gr:return t.theme;default:return e}},Us=(e=!0,t)=>{switch(t.type){case yt:return t.main;default:return e}};var Ws=ar({config:As,title:Ds,frames:Os,files:$s,activeFrame:Ms,scrollback:Rs,history:Ps,suggestions:Bs,theme:zs,connection:Ls,loadingLevel:_s,running:Ns,main:Us});function Hs(e){let t=!1;const r=["debug","info"].includes(e.getState().config.log),s=[],o=()=>new WebSocket(`${window.location.protocol.replace("http","ws")}//${window.location.host.replace(59998,59999)}${window.location.pathname}`);let a=window.ws=o();return a.onopen=()=>{for(e.dispatch(Et("open"));s.length;)a.send(s.shift())},a.onmessage=({data:p})=>{const l=JSON.parse(p);if(r){const c=l,{type:u}=c,f=P(c,["type"]);console&&console.log("->",u,f)}e.dispatch(l)},a.onclose=()=>{e.dispatch(Et("closed")),setTimeout(()=>t||window.close(),10)},window.addEventListener("beforeunload",function(p){if(delete p.returnValue,a.readyState===WebSocket.OPEN)try{t=!0,a.close()}catch{}}),p=>l=>{if(l.remote){const f=JSON.stringify(l);if(a.readyState===1){if(r){const c=l,{type:m}=c,b=P(c,["type"]);console&&console.log("<-",m,b)}a.send(f)}else{if(r){const u=l,{type:m}=u,b=P(u,["type"]);console&&console.log("><",m,b)}s.push(f),a.readyState===3&&(a=window.ws=o())}}return p(l)}}const Q=lr(Ws,{history:JSON.parse(localStorage.getItem("history")||"[]")},(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ir)(cr(Hs)));Q.subscribe(()=>{localStorage.setItem("history",JSON.stringify(Q.getState().history))});const Gs=()=>{ur.exports.render(n(dr,{store:Q,children:n(Fs,{})}),document.getElementById("root"))};Gs();
